/* **********************************************
     Begin auth.js
********************************************** *//* Auth & Crypto Functions 
	- jquery.oauth.js
	- sha1.js
	- oauth.js

	oauthAjax - jQuery Plugin
	- Extends normal $.ajax() to allow oauth1.0 signed for ajax calls
	- Requires: sha1() and OAuth
	- Example below:

	$.oauthAjax(
	{
		oauth 		: user_data,
		url			: base_url + 'api/content/create',
		type		: 'POST',
		dataType	: 'json',
		data		: status_data,
	  	success		: function(result)
	  	{	
	  	}
	});	
*/function hex_sha1(e){return binb2hex(core_sha1(str2binb(e),e.length*chrsz))}function b64_sha1(e){return binb2b64(core_sha1(str2binb(e),e.length*chrsz))}function str_sha1(e){return binb2str(core_sha1(str2binb(e),e.length*chrsz))}function hex_hmac_sha1(e,t){return binb2hex(core_hmac_sha1(e,t))}function b64_hmac_sha1(e,t){return binb2b64(core_hmac_sha1(e,t))}function str_hmac_sha1(e,t){return binb2str(core_hmac_sha1(e,t))}function sha1_vm_test(){return hex_sha1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d"}function core_sha1(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;var n=Array(80),r=1732584193,i=-271733879,s=-1732584194,o=271733878,u=-1009589776;for(var a=0;a<e.length;a+=16){var f=r,l=i,c=s,h=o,p=u;for(var d=0;d<80;d++){d<16?n[d]=e[a+d]:n[d]=rol(n[d-3]^n[d-8]^n[d-14]^n[d-16],1);var v=safe_add(safe_add(rol(r,5),sha1_ft(d,i,s,o)),safe_add(safe_add(u,n[d]),sha1_kt(d)));u=o;o=s;s=rol(i,30);i=r;r=v}r=safe_add(r,f);i=safe_add(i,l);s=safe_add(s,c);o=safe_add(o,h);u=safe_add(u,p)}return Array(r,i,s,o,u)}function sha1_ft(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function sha1_kt(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function core_hmac_sha1(e,t){var n=str2binb(e);n.length>16&&(n=core_sha1(n,e.length*chrsz));var r=Array(16),i=Array(16);for(var s=0;s<16;s++){r[s]=n[s]^909522486;i[s]=n[s]^1549556828}var o=core_sha1(r.concat(str2binb(t)),512+t.length*chrsz);return core_sha1(i.concat(o),672)}function safe_add(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function rol(e,t){return e<<t|e>>>32-t}function str2binb(e){var t=Array(),n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<32-chrsz-r%32;return t}function binb2str(e){var t="",n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>32-chrsz-r%32&n);return t}function binb2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>(3-r%4)*8+4&15)+t.charAt(e[r>>2]>>(3-r%4)*8&15);return n}function binb2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255;for(var s=0;s<4;s++)r*8+s*6>e.length*32?n+=b64pad:n+=t.charAt(i>>6*(3-s)&63)}return n}function sentimentFromArray(e){var t=e.length,n=0,r=5*t,i=-5*t,s=r/4,o=i/4,u="";for(sentiment in e)n+=parseInt(e[sentiment]);u=Math.round(n/t);return u}function countElementsArray(e,t){var n=0;t!==undefined&&$.each(t,function(t,r){r===e&&n++});return n}function determineHourStart(e,t){var n=0;if(t=="PM"&&e!=12){var e=parseFloat(e).toFixed(2);n=parseInt(e)+12}else{var e=parseFloat(e).toFixed(2);n=parseInt(e)}return n}function determineHourEnd(e,t){var n=0;if(t=="AM"&&e==12)n="00";else if(t=="PM"&&e!=12){var e=parseFloat(e).toFixed(2);n=parseInt(e)+12}else{var e=parseFloat(e).toFixed(2);n=parseInt(e)}return n}(function(e){e.oauthAjax=function(e){var t=e.oauth.get("consumer_key"),n=e.oauth.get("consumer_secret"),r=e.oauth.get("token"),i=e.oauth.get("token_secret"),s={consumerSecret:n,tokenSecret:i},o=[["oauth_consumer_key",t],["oauth_token",r]];if(e.data)for(var u=0;u<e.data.length;u++)o.push([e.data[u].name,e.data[u].value]);var a={method:e.type||"GET",action:e.url,parameters:o};OAuth.setTimestampAndNonce(a);OAuth.SignatureMethod.sign(a,s);var f=e.beforeSend;e.beforeSend=function(e){e.setRequestHeader("Authorization",OAuth.getAuthorizationHeader("",a.parameters));f&&f(e)};jQuery.ajax(e)}})(jQuery);var hexcase=0,b64pad="",chrsz=8,OAuth;OAuth==null&&(OAuth={});OAuth.setProperties=function(t,n){if(t!=null&&n!=null)for(var r in n)t[r]=n[r];return t};OAuth.setProperties(OAuth,{percentEncode:function(t){if(t==null)return"";if(t instanceof Array){var n="";for(var r=0;r<t.length;++t){n!=""&&(n+="&");n+=OAuth.percentEncode(t[r])}return n}t=encodeURIComponent(t);t=t.replace(/\!/g,"%21");t=t.replace(/\*/g,"%2A");t=t.replace(/\'/g,"%27");t=t.replace(/\(/g,"%28");t=t.replace(/\)/g,"%29");t=t.replace(/\%20/g,"%2B");return t},decodePercent:function(t){t!=null&&(t=t.replace(/\+/g," "));return decodeURIComponent(t)},getParameterList:function(t){if(t==null)return[];if(typeof t!="object")return OAuth.decodeForm(t+"");if(t instanceof Array)return t;var n=[];for(var r in t)n.push([r,t[r]]);return n},getParameterMap:function(t){if(t==null)return{};if(typeof t!="object")return OAuth.getParameterMap(OAuth.decodeForm(t+""));if(t instanceof Array){var n={};for(var r=0;r<t.length;++r){var i=t[r][0];n[i]===undefined&&(n[i]=t[r][1])}return n}return t},getParameter:function(t,n){if(t instanceof Array){for(var r=0;r<t.length;++r)if(t[r][0]==n)return t[r][1];return null}return OAuth.getParameterMap(t)[n]},formEncode:function(t){var n="",r=OAuth.getParameterList(t);for(var i=0;i<r.length;++i){var s=r[i][1];s==null&&(s="");n!=""&&(n+="&");n+=OAuth.percentEncode(r[i][0])+"="+OAuth.percentEncode(s)}return n},decodeForm:function(t){var n=[],r=t.split("&");for(var i=0;i<r.length;++i){var s=r[i];if(s=="")continue;var o=s.indexOf("="),u,a;if(o<0){u=OAuth.decodePercent(s);a=null}else{u=OAuth.decodePercent(s.substring(0,o));a=OAuth.decodePercent(s.substring(o+1))}n.push([u,a])}return n},setParameter:function(t,n,r){var i=t.parameters;if(i instanceof Array){for(var s=0;s<i.length;++s)if(i[s][0]==n)if(r===undefined)i.splice(s,1);else{i[s][1]=r;r=undefined}r!==undefined&&i.push([n,r])}else{i=OAuth.getParameterMap(i);i[n]=r;t.parameters=i}},setParameters:function(t,n){var r=OAuth.getParameterList(n);for(var i=0;i<r.length;++i)OAuth.setParameter(t,r[i][0],r[i][1])},completeRequest:function(t,n){t.method==null&&(t.method="GET");var r=OAuth.getParameterMap(t.parameters);r.oauth_consumer_key==null&&OAuth.setParameter(t,"oauth_consumer_key",n.consumerKey||"");r.oauth_token==null&&n.token!=null&&OAuth.setParameter(t,"oauth_token",n.token);r.oauth_version==null&&OAuth.setParameter(t,"oauth_version","1.0");r.oauth_timestamp==null&&OAuth.setParameter(t,"oauth_timestamp",OAuth.timestamp());r.oauth_nonce==null&&OAuth.setParameter(t,"oauth_nonce",OAuth.nonce(6));OAuth.SignatureMethod.sign(t,n)},setTimestampAndNonce:function(t){OAuth.setParameter(t,"oauth_timestamp",OAuth.timestamp());OAuth.setParameter(t,"oauth_nonce",OAuth.nonce(6))},addToURL:function(t,n){newURL=t;if(n!=null){var r=OAuth.formEncode(n);if(r.length>0){var i=t.indexOf("?");i<0?newURL+="?":newURL+="&";newURL+=r}}return newURL},getAuthorizationHeader:function(t,n){var r='OAuth realm="'+OAuth.percentEncode(t)+'"',i=OAuth.getParameterList(n);for(var s=0;s<i.length;++s){var o=i[s],u=o[0];u.indexOf("oauth_")==0&&(r+=","+OAuth.percentEncode(u)+'="'+OAuth.percentEncode(o[1])+'"')}return r},correctTimestampFromSrc:function(t){t=t||"oauth_timestamp";var n=document.getElementsByTagName("script");if(n==null||!n.length)return;var r=n[n.length-1].src;if(!r)return;var i=r.indexOf("?");if(i<0)return;parameters=OAuth.getParameterMap(OAuth.decodeForm(r.substring(i+1)));var s=parameters[t];if(s==null)return;OAuth.correctTimestamp(s)},correctTimestamp:function(t){OAuth.timeCorrectionMsec=t*1e3-(new Date).getTime()},timeCorrectionMsec:0,timestamp:function(){var t=(new Date).getTime()+OAuth.timeCorrectionMsec;return Math.floor(t/1e3)},nonce:function(t){var n=OAuth.nonce.CHARS,r="";for(var i=0;i<t;++i){var s=Math.floor(Math.random()*n.length);r+=n.substring(s,s+1)}return r}});OAuth.nonce.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";OAuth.declareClass=function(t,n,r){var i=t[n];t[n]=r;if(r!=null&&i!=null)for(var s in i)s!="prototype"&&(r[s]=i[s]);return r};OAuth.declareClass(OAuth,"SignatureMethod",function(){});OAuth.setProperties(OAuth.SignatureMethod.prototype,{sign:function(t){var n=OAuth.SignatureMethod.getBaseString(t),r=this.getSignature(n);OAuth.setParameter(t,"oauth_signature",r);return r},initialize:function(t,n){var r;n.accessorSecret!=null&&t.length>9&&t.substring(t.length-9)=="-Accessor"?r=n.accessorSecret:r=n.consumerSecret;this.key=OAuth.percentEncode(r)+"&"+OAuth.percentEncode(n.tokenSecret)}});OAuth.setProperties(OAuth.SignatureMethod,{sign:function(t,n){var r=OAuth.getParameterMap(t.parameters).oauth_signature_method;if(r==null||r==""){r="HMAC-SHA1";OAuth.setParameter(t,"oauth_signature_method",r)}OAuth.SignatureMethod.newMethod(r,n).sign(t)},newMethod:function(t,n){var r=OAuth.SignatureMethod.REGISTERED[t];if(r!=null){var i=new r;i.initialize(t,n);return i}var s=new Error("signature_method_rejected"),o="";for(var u in OAuth.SignatureMethod.REGISTERED){o!=""&&(o+="&");o+=OAuth.percentEncode(u)}s.oauth_acceptable_signature_methods=o;throw s},REGISTERED:{},registerMethodClass:function(t,n){for(var r=0;r<t.length;++r)OAuth.SignatureMethod.REGISTERED[t[r]]=n},makeSubclass:function(t){var n=OAuth.SignatureMethod,r=function(){n.call(this)};r.prototype=new n;r.prototype.getSignature=t;r.prototype.constructor=r;return r},getBaseString:function(t){var n=t.action,r=n.indexOf("?"),i;if(r<0)i=t.parameters;else{i=OAuth.decodeForm(n.substring(r+1));var s=OAuth.getParameterList(t.parameters);for(var o=0;o<s.length;++o)i.push(s[o])}return OAuth.percentEncode(t.method.toUpperCase())+"&"+OAuth.percentEncode(OAuth.SignatureMethod.normalizeUrl(n))+"&"+OAuth.percentEncode(OAuth.SignatureMethod.normalizeParameters(i))},normalizeUrl:function(t){var n=OAuth.SignatureMethod.parseUri(t),r=n.protocol.toLowerCase(),i=n.authority.toLowerCase(),s=r=="http"&&n.port==80||r=="https"&&n.port==443;if(s){var o=i.lastIndexOf(":");o>=0&&(i=i.substring(0,o))}var u=n.path;u||(u="/");return r+"://"+i+u},parseUri:function(t){var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser.strict.exec(t),i={},s=14;while(s--)i[n.key[s]]=r[s]||"";return i},normalizeParameters:function(t){if(t==null)return"";var n=OAuth.getParameterList(t),r=[];for(var i=0;i<n.length;++i){var s=n[i];s[0]!="oauth_signature"&&r.push([OAuth.percentEncode(s[0])+" "+OAuth.percentEncode(s[1]),s])}r.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0});var o=[];for(var u=0;u<r.length;++u)o.push(r[u][1]);return OAuth.formEncode(o)}});OAuth.SignatureMethod.registerMethodClass(["PLAINTEXT","PLAINTEXT-Accessor"],OAuth.SignatureMethod.makeSubclass(function(t){return this.key}));OAuth.SignatureMethod.registerMethodClass(["HMAC-SHA1","HMAC-SHA1-Accessor"],OAuth.SignatureMethod.makeSubclass(function(t){b64pad="=";var n=b64_hmac_sha1(this.key,t);return n}));try{OAuth.correctTimestampFromSrc()}catch(e){}(function(e){e.fn.jkey=function(t,n,r){function c(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}var i=this;this[0]&&!this[0].parentNode&&(i=document);var s={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,shift:16,ctrl:17,control:17,alt:18,option:18,opt:18,cmd:224,command:224,fn:255,"function":255,backspace:8,osxdelete:8,enter:13,"return":13,space:32,spacebar:32,esc:27,escape:27,tab:9,capslock:20,capslk:20,"super":91,windows:91,insert:45,"delete":46,home:36,end:35,pgup:33,pageup:33,pgdn:34,pagedown:34,left:37,up:38,right:39,down:40,"!":49,"@":50,"#":51,$:52,"%":53,"^":54,"&":55,"*":56,"(":57,")":48,"`":96,"~":96,"-":45,_:45,"=":187,"+":187,"[":219,"{":219,"]":221,"}":221,"\\":220,"|":220,";":59,":":59,"'":222,'"':222,",":188,"<":188,".":190,">":190,"/":191,"?":191},o="",u="";if(typeof n=="function"&&typeof r=="undefined"){r=n;n=!1}if(t.toString().indexOf(",")>-1)var a=t.match(/[a-zA-Z0-9]+/gi);else var a=[t];for(o in a){if(!a.hasOwnProperty(o))continue;if(a[o].toString().indexOf("+")>-1){var f=[],l=a[o].split("+");for(u in l)f[u]=s[l[u]];a[o]=f}else a[o]=s[a[o]]}var h=c(s);return this.each(function(){i=e(this);var t=[];i.bind("keydown.jkey",function(i){t[i.keyCode]=i.keyCode;if(e.inArray(i.keyCode,a)>-1){if(typeof r=="function"){r.call(this,h[i.keyCode]);n===!1&&i.preventDefault()}}else for(o in a)if(e.inArray(i.keyCode,a[o])>-1){var s="unchecked";for(u in a[o])s!=0&&(e.inArray(a[o][u],t)>-1?s=!0:s=!1);if(s===!0&&typeof r=="function"){var f="";for(var l in t)t[l]!=""&&(f+=h[t[l]]+"+");f=f.substring(0,f.length-1);r.call(this,f);n===!1&&i.preventDefault()}}}).bind("keyup.jkey",function(e){t[e.keyCode]=""})})}})(jQuery);jQuery.fn.extend({everyTime:function(e,t,n,r){return this.each(function(){jQuery.timer.add(this,e,t,n,r)})},oneTime:function(e,t,n){return this.each(function(){jQuery.timer.add(this,e,t,n,1)})},stopTime:function(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}});jQuery.extend({timer:{global:[],guid:1,dataKey:"jQuery.timer",regex:/^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e==undefined||e==null)return null;var t=this.regex.exec(jQuery.trim(e.toString()));if(t[2]){var n=parseFloat(t[1]),r=this.powers[t[2]]||1;return n*r}return e},add:function(e,t,n,r,i){var s=0;if(jQuery.isFunction(n)){i||(i=r);r=n;n=t}t=jQuery.timer.timeParse(t);if(typeof t!="number"||isNaN(t)||t<0)return;if(typeof i!="number"||isNaN(i)||i<0)i=0;i=i||0;var o=jQuery.data(e,this.dataKey)||jQuery.data(e,this.dataKey,{});o[n]||(o[n]={});r.timerID=r.timerID||this.guid++;var u=function(){(++s>i&&i!==0||r.call(e,s)===!1)&&jQuery.timer.remove(e,n,r)};u.timerID=r.timerID;o[n][r.timerID]||(o[n][r.timerID]=window.setInterval(u,t));this.global.push(e)},remove:function(e,t,n){var r=jQuery.data(e,this.dataKey),i;if(r){if(!t)for(t in r)this.remove(e,t,n);else if(r[t]){if(n){if(n.timerID){window.clearInterval(r[t][n.timerID]);delete r[t][n.timerID]}}else for(var n in r[t]){window.clearInterval(r[t][n]);delete r[t][n]}for(i in r[t])break;if(!i){i=null;delete r[t]}}for(i in r)break;i||jQuery.removeData(e,this.dataKey)}}}});jQuery(window).bind("unload",function(){jQuery.each(jQuery.timer.global,function(e,t){jQuery.timer.remove(t)})});jQuery.url=function(){var e={},t={},n={url:window.location,strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=function(){str=decodeURI(n.url);var e=n.parser[n.strictMode?"strict":"loose"].exec(str),t={},r=14;while(r--)t[n.key[r]]=e[r]||"";t[n.q.name]={};t[n.key[12]].replace(n.q.parser,function(e,r,i){r&&(t[n.q.name][r]=i)});return t},i=function(e){jQuery.isEmptyObject(t)&&o();return e=="base"?t.port!==null&&t.port!==""?t.protocol+"://"+t.host+":"+t.port+"/":t.protocol+"://"+t.host+"/":t[e]===""?null:t[e]},s=function(e){jQuery.isEmptyObject(t)&&o();return t.queryKey[e]===null?null:t.queryKey[e]},o=function(){t=r();u()},u=function(){var n=t.path;e=[];e=t.path.length==1?{}:(n.charAt(n.length-1)=="/"?n.substring(1,n.length-1):path=n.substring(1)).split("/")};return{setMode:function(e){n.strictMode=e=="strict"?!0:!1;return this},setUrl:function(e){n.url=e===undefined?window.location:e;o();return this},segment:function(n){jQuery.isEmptyObject(t)&&o();return n===undefined?e.length:e[n]===""||e[n]===undefined?null:e[n]},attr:i,param:s}}();(function(e){e.validator=function(t){function u(e){return e!==""?!0:!1}function a(e){return e>0?!0:!1}function f(t,n){var r=n.replace("_confirm",""),i=e(r).val(),s=!1;t===i&&t!==""?s=!0:s=!1;return s}function l(e){var t=new RegExp(/^(("[\w-\s]+")|([\w- ]+(?:\.[\w- ]+)*)|("[\w-\s]+")([\w- ]+(?:\.[\w- ]+)*))(@((?:[\w- ]+\.)*\w[\w- ]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return t.test(e)}function c(e){var t=/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/;return t.test(e)}function h(e){return p(e)==="?"?!1:!0}function p(e){var t=(e+"").replace(/\s/g,"");return/^(34|37)/.test(t)&&t.length===15?"AMEX":/^(51|52|53|54|55)/.test(t)&&t.length===16?"MasterCard":!/^(4)/.test(t)||t.length!==13&&t.length!==16?/^(300|301|302|303|304|305|36|38)/.test(t)&&t.length===14?"DinersClub":/^(2014|2149)/.test(t)&&t.length===15?"enRoute":/^(6011)/.test(t)&&t.length===16?"Discover":/^(3)/.test(t)&&t.length===16?"JCB":/^(2131|1800)/.test(t)&&t.length===15?"JCB":"?":"Visa"}function d(t,n){var i=n.selector+"_error";if(t&&e(i).length!==0){e(n.selector+"_error").html("").removeClass(r.styles.error).addClass(r.styles.valid);e(n.selector+"_error").delay(300,function(){e(this).fadeOut()})}else if(e(i).length!==0){e(i).html(r.message+" "+n.field).removeClass(r.styles.valid).addClass(r.styles.error);e(n.selector+"_error").delay(150,function(){e(this).fadeIn()})}}function v(t,n){!t&&e(n.selector).length!==0&&e(n.selector).css("border","1px solid red")}function m(t,n){if(!t&&e(n.selector).length!==0){e(n.selector).val(n.field).addClass(r.styles.error);e(n.selector).delay(1e3,function(){e(n.selector).val("").removeClass(r.styles.error)})}}function g(){return!1}var n={elements:[],styles:{valid:"form_valid",error:"form_error"},message:"",success:function(){},failed:function(){}},r=e.extend(n,t),i=0,s=r.elements.length,o="";e.each(r.elements,function(t,n){var r=e(n.selector).val(),s=!1;n.rule==="require"?s=u(r):n.rule==="require_integer"?s=a(r):n.rule==="email"?s=l(r):n.rule==="us_phone"?s=c(r):n.rule==="confirm"?s=f(r,n.selector):n.rule==="credit_card"?s=h(r):jQuery.isFunction(n.rule)?s=n.rule(n.selector):s=!1;n.action==="label"?d(s,n):n.action==="border"?v(s,n):n.action==="element"?m(s,n):g();s?i++:o+=" "+n.field+","});if(i===s)r.success();else{var y=o.substring(0,o.length-1);r.failed(y)}}})($);var mysqlDateParser=function(e){e?_str=e:_str="0000-00-00 00:00:00";var t={date:function(e){e=e||"number";m=_str.match(/([0-9])+/gi);e=="short"?months={"00":"00","01":"Jan.","02":"Feb.","03":"Mar.","04":"Apr.","05":"May.","06":"Jun.","07":"Jul.","08":"Aug.","09":"Sep.",10:"Oct.",11:"Nov.",12:"Dec."}:e=="long"&&(months={"00":"00","01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"});if(e!=="number"){m[1]=months[m[1]];d=" "}else d="/";return m[1]+d+m[2]+d+m[0]},time:function(){m=_str.match(/([0-9])+/gi);pmOrAm="AM";if(m[3]>12){m[3]=m[3]-12;pmOrAm="PM"}return m[3]+":"+m[4]+" "+pmOrAm}};return t};