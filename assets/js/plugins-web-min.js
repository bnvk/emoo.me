/* **********************************************
     Begin auth.js
********************************************** *//* Auth & Crypto Functions 
	- jquery.oauth.js
	- sha1.js
	- oauth.js

	oauthAjax - jQuery Plugin
	- Extends normal $.ajax() to allow oauth1.0 signed for ajax calls
	- Requires: sha1() and OAuth
	- Example below:

	$.oauthAjax(
	{
		oauth 		: user_data,
		url			: base_url + 'api/content/create',
		type		: 'POST',
		dataType	: 'json',
		data		: status_data,
	  	success		: function(result)
	  	{	
	  	}
	});	
*/function hex_sha1(e){return binb2hex(core_sha1(str2binb(e),e.length*chrsz))}function b64_sha1(e){return binb2b64(core_sha1(str2binb(e),e.length*chrsz))}function str_sha1(e){return binb2str(core_sha1(str2binb(e),e.length*chrsz))}function hex_hmac_sha1(e,t){return binb2hex(core_hmac_sha1(e,t))}function b64_hmac_sha1(e,t){return binb2b64(core_hmac_sha1(e,t))}function str_hmac_sha1(e,t){return binb2str(core_hmac_sha1(e,t))}function sha1_vm_test(){return hex_sha1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d"}function core_sha1(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;var n=Array(80),r=1732584193,i=-271733879,s=-1732584194,o=271733878,u=-1009589776;for(var a=0;a<e.length;a+=16){var f=r,l=i,c=s,h=o,p=u;for(var d=0;d<80;d++){d<16?n[d]=e[a+d]:n[d]=rol(n[d-3]^n[d-8]^n[d-14]^n[d-16],1);var v=safe_add(safe_add(rol(r,5),sha1_ft(d,i,s,o)),safe_add(safe_add(u,n[d]),sha1_kt(d)));u=o;o=s;s=rol(i,30);i=r;r=v}r=safe_add(r,f);i=safe_add(i,l);s=safe_add(s,c);o=safe_add(o,h);u=safe_add(u,p)}return Array(r,i,s,o,u)}function sha1_ft(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function sha1_kt(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function core_hmac_sha1(e,t){var n=str2binb(e);n.length>16&&(n=core_sha1(n,e.length*chrsz));var r=Array(16),i=Array(16);for(var s=0;s<16;s++){r[s]=n[s]^909522486;i[s]=n[s]^1549556828}var o=core_sha1(r.concat(str2binb(t)),512+t.length*chrsz);return core_sha1(i.concat(o),672)}function safe_add(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function rol(e,t){return e<<t|e>>>32-t}function str2binb(e){var t=Array(),n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<32-chrsz-r%32;return t}function binb2str(e){var t="",n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>32-chrsz-r%32&n);return t}function binb2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>(3-r%4)*8+4&15)+t.charAt(e[r>>2]>>(3-r%4)*8&15);return n}function binb2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255;for(var s=0;s<4;s++)r*8+s*6>e.length*32?n+=b64pad:n+=t.charAt(i>>6*(3-s)&63)}return n}function sentimentFromArray(e){var t=e.length,n=0,r=5*t,i=-5*t,s=r/4,o=i/4,u="";for(sentiment in e)n+=parseInt(e[sentiment]);u=Math.round(n/t);return u}function countElementsArray(e,t){var n=0;t!==undefined&&$.each(t,function(t,r){r===e&&n++});return n}function determineHourStart(e,t){var n=0;if(t=="PM"&&e!=12){var e=parseFloat(e).toFixed(2);n=parseInt(e)+12}else{var e=parseFloat(e).toFixed(2);n=parseInt(e)}return n}function determineHourEnd(e,t){var n=0;if(t=="AM"&&e==12)n="00";else if(t=="PM"&&e!=12){var e=parseFloat(e).toFixed(2);n=parseInt(e)+12}else{var e=parseFloat(e).toFixed(2);n=parseInt(e)}return n}(function(e){e.oauthAjax=function(e){var t=e.oauth.get("consumer_key"),n=e.oauth.get("consumer_secret"),r=e.oauth.get("token"),i=e.oauth.get("token_secret"),s={consumerSecret:n,tokenSecret:i},o=[["oauth_consumer_key",t],["oauth_token",r]];if(e.data)for(var u=0;u<e.data.length;u++)o.push([e.data[u].name,e.data[u].value]);var a={method:e.type||"GET",action:e.url,parameters:o};OAuth.setTimestampAndNonce(a);OAuth.SignatureMethod.sign(a,s);var f=e.beforeSend;e.beforeSend=function(e){e.setRequestHeader("Authorization",OAuth.getAuthorizationHeader("",a.parameters));f&&f(e)};jQuery.ajax(e)}})(jQuery);var hexcase=0,b64pad="",chrsz=8,OAuth;OAuth==null&&(OAuth={});OAuth.setProperties=function(t,n){if(t!=null&&n!=null)for(var r in n)t[r]=n[r];return t};OAuth.setProperties(OAuth,{percentEncode:function(t){if(t==null)return"";if(t instanceof Array){var n="";for(var r=0;r<t.length;++t){n!=""&&(n+="&");n+=OAuth.percentEncode(t[r])}return n}t=encodeURIComponent(t);t=t.replace(/\!/g,"%21");t=t.replace(/\*/g,"%2A");t=t.replace(/\'/g,"%27");t=t.replace(/\(/g,"%28");t=t.replace(/\)/g,"%29");t=t.replace(/\%20/g,"%2B");return t},decodePercent:function(t){t!=null&&(t=t.replace(/\+/g," "));return decodeURIComponent(t)},getParameterList:function(t){if(t==null)return[];if(typeof t!="object")return OAuth.decodeForm(t+"");if(t instanceof Array)return t;var n=[];for(var r in t)n.push([r,t[r]]);return n},getParameterMap:function(t){if(t==null)return{};if(typeof t!="object")return OAuth.getParameterMap(OAuth.decodeForm(t+""));if(t instanceof Array){var n={};for(var r=0;r<t.length;++r){var i=t[r][0];n[i]===undefined&&(n[i]=t[r][1])}return n}return t},getParameter:function(t,n){if(t instanceof Array){for(var r=0;r<t.length;++r)if(t[r][0]==n)return t[r][1];return null}return OAuth.getParameterMap(t)[n]},formEncode:function(t){var n="",r=OAuth.getParameterList(t);for(var i=0;i<r.length;++i){var s=r[i][1];s==null&&(s="");n!=""&&(n+="&");n+=OAuth.percentEncode(r[i][0])+"="+OAuth.percentEncode(s)}return n},decodeForm:function(t){var n=[],r=t.split("&");for(var i=0;i<r.length;++i){var s=r[i];if(s=="")continue;var o=s.indexOf("="),u,a;if(o<0){u=OAuth.decodePercent(s);a=null}else{u=OAuth.decodePercent(s.substring(0,o));a=OAuth.decodePercent(s.substring(o+1))}n.push([u,a])}return n},setParameter:function(t,n,r){var i=t.parameters;if(i instanceof Array){for(var s=0;s<i.length;++s)if(i[s][0]==n)if(r===undefined)i.splice(s,1);else{i[s][1]=r;r=undefined}r!==undefined&&i.push([n,r])}else{i=OAuth.getParameterMap(i);i[n]=r;t.parameters=i}},setParameters:function(t,n){var r=OAuth.getParameterList(n);for(var i=0;i<r.length;++i)OAuth.setParameter(t,r[i][0],r[i][1])},completeRequest:function(t,n){t.method==null&&(t.method="GET");var r=OAuth.getParameterMap(t.parameters);r.oauth_consumer_key==null&&OAuth.setParameter(t,"oauth_consumer_key",n.consumerKey||"");r.oauth_token==null&&n.token!=null&&OAuth.setParameter(t,"oauth_token",n.token);r.oauth_version==null&&OAuth.setParameter(t,"oauth_version","1.0");r.oauth_timestamp==null&&OAuth.setParameter(t,"oauth_timestamp",OAuth.timestamp());r.oauth_nonce==null&&OAuth.setParameter(t,"oauth_nonce",OAuth.nonce(6));OAuth.SignatureMethod.sign(t,n)},setTimestampAndNonce:function(t){OAuth.setParameter(t,"oauth_timestamp",OAuth.timestamp());OAuth.setParameter(t,"oauth_nonce",OAuth.nonce(6))},addToURL:function(t,n){newURL=t;if(n!=null){var r=OAuth.formEncode(n);if(r.length>0){var i=t.indexOf("?");i<0?newURL+="?":newURL+="&";newURL+=r}}return newURL},getAuthorizationHeader:function(t,n){var r='OAuth realm="'+OAuth.percentEncode(t)+'"',i=OAuth.getParameterList(n);for(var s=0;s<i.length;++s){var o=i[s],u=o[0];u.indexOf("oauth_")==0&&(r+=","+OAuth.percentEncode(u)+'="'+OAuth.percentEncode(o[1])+'"')}return r},correctTimestampFromSrc:function(t){t=t||"oauth_timestamp";var n=document.getElementsByTagName("script");if(n==null||!n.length)return;var r=n[n.length-1].src;if(!r)return;var i=r.indexOf("?");if(i<0)return;parameters=OAuth.getParameterMap(OAuth.decodeForm(r.substring(i+1)));var s=parameters[t];if(s==null)return;OAuth.correctTimestamp(s)},correctTimestamp:function(t){OAuth.timeCorrectionMsec=t*1e3-(new Date).getTime()},timeCorrectionMsec:0,timestamp:function(){var t=(new Date).getTime()+OAuth.timeCorrectionMsec;return Math.floor(t/1e3)},nonce:function(t){var n=OAuth.nonce.CHARS,r="";for(var i=0;i<t;++i){var s=Math.floor(Math.random()*n.length);r+=n.substring(s,s+1)}return r}});OAuth.nonce.CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";OAuth.declareClass=function(t,n,r){var i=t[n];t[n]=r;if(r!=null&&i!=null)for(var s in i)s!="prototype"&&(r[s]=i[s]);return r};OAuth.declareClass(OAuth,"SignatureMethod",function(){});OAuth.setProperties(OAuth.SignatureMethod.prototype,{sign:function(t){var n=OAuth.SignatureMethod.getBaseString(t),r=this.getSignature(n);OAuth.setParameter(t,"oauth_signature",r);return r},initialize:function(t,n){var r;n.accessorSecret!=null&&t.length>9&&t.substring(t.length-9)=="-Accessor"?r=n.accessorSecret:r=n.consumerSecret;this.key=OAuth.percentEncode(r)+"&"+OAuth.percentEncode(n.tokenSecret)}});OAuth.setProperties(OAuth.SignatureMethod,{sign:function(t,n){var r=OAuth.getParameterMap(t.parameters).oauth_signature_method;if(r==null||r==""){r="HMAC-SHA1";OAuth.setParameter(t,"oauth_signature_method",r)}OAuth.SignatureMethod.newMethod(r,n).sign(t)},newMethod:function(t,n){var r=OAuth.SignatureMethod.REGISTERED[t];if(r!=null){var i=new r;i.initialize(t,n);return i}var s=new Error("signature_method_rejected"),o="";for(var u in OAuth.SignatureMethod.REGISTERED){o!=""&&(o+="&");o+=OAuth.percentEncode(u)}s.oauth_acceptable_signature_methods=o;throw s},REGISTERED:{},registerMethodClass:function(t,n){for(var r=0;r<t.length;++r)OAuth.SignatureMethod.REGISTERED[t[r]]=n},makeSubclass:function(t){var n=OAuth.SignatureMethod,r=function(){n.call(this)};r.prototype=new n;r.prototype.getSignature=t;r.prototype.constructor=r;return r},getBaseString:function(t){var n=t.action,r=n.indexOf("?"),i;if(r<0)i=t.parameters;else{i=OAuth.decodeForm(n.substring(r+1));var s=OAuth.getParameterList(t.parameters);for(var o=0;o<s.length;++o)i.push(s[o])}return OAuth.percentEncode(t.method.toUpperCase())+"&"+OAuth.percentEncode(OAuth.SignatureMethod.normalizeUrl(n))+"&"+OAuth.percentEncode(OAuth.SignatureMethod.normalizeParameters(i))},normalizeUrl:function(t){var n=OAuth.SignatureMethod.parseUri(t),r=n.protocol.toLowerCase(),i=n.authority.toLowerCase(),s=r=="http"&&n.port==80||r=="https"&&n.port==443;if(s){var o=i.lastIndexOf(":");o>=0&&(i=i.substring(0,o))}var u=n.path;u||(u="/");return r+"://"+i+u},parseUri:function(t){var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser.strict.exec(t),i={},s=14;while(s--)i[n.key[s]]=r[s]||"";return i},normalizeParameters:function(t){if(t==null)return"";var n=OAuth.getParameterList(t),r=[];for(var i=0;i<n.length;++i){var s=n[i];s[0]!="oauth_signature"&&r.push([OAuth.percentEncode(s[0])+" "+OAuth.percentEncode(s[1]),s])}r.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0});var o=[];for(var u=0;u<r.length;++u)o.push(r[u][1]);return OAuth.formEncode(o)}});OAuth.SignatureMethod.registerMethodClass(["PLAINTEXT","PLAINTEXT-Accessor"],OAuth.SignatureMethod.makeSubclass(function(t){return this.key}));OAuth.SignatureMethod.registerMethodClass(["HMAC-SHA1","HMAC-SHA1-Accessor"],OAuth.SignatureMethod.makeSubclass(function(t){b64pad="=";var n=b64_hmac_sha1(this.key,t);return n}));try{OAuth.correctTimestampFromSrc()}catch(e){}(function(e){e.fn.jkey=function(t,n,r){function c(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}var i=this;this[0]&&!this[0].parentNode&&(i=document);var s={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,shift:16,ctrl:17,control:17,alt:18,option:18,opt:18,cmd:224,command:224,fn:255,"function":255,backspace:8,osxdelete:8,enter:13,"return":13,space:32,spacebar:32,esc:27,escape:27,tab:9,capslock:20,capslk:20,"super":91,windows:91,insert:45,"delete":46,home:36,end:35,pgup:33,pageup:33,pgdn:34,pagedown:34,left:37,up:38,right:39,down:40,"!":49,"@":50,"#":51,$:52,"%":53,"^":54,"&":55,"*":56,"(":57,")":48,"`":96,"~":96,"-":45,_:45,"=":187,"+":187,"[":219,"{":219,"]":221,"}":221,"\\":220,"|":220,";":59,":":59,"'":222,'"':222,",":188,"<":188,".":190,">":190,"/":191,"?":191},o="",u="";if(typeof n=="function"&&typeof r=="undefined"){r=n;n=!1}if(t.toString().indexOf(",")>-1)var a=t.match(/[a-zA-Z0-9]+/gi);else var a=[t];for(o in a){if(!a.hasOwnProperty(o))continue;if(a[o].toString().indexOf("+")>-1){var f=[],l=a[o].split("+");for(u in l)f[u]=s[l[u]];a[o]=f}else a[o]=s[a[o]]}var h=c(s);return this.each(function(){i=e(this);var t=[];i.bind("keydown.jkey",function(i){t[i.keyCode]=i.keyCode;if(e.inArray(i.keyCode,a)>-1){if(typeof r=="function"){r.call(this,h[i.keyCode]);n===!1&&i.preventDefault()}}else for(o in a)if(e.inArray(i.keyCode,a[o])>-1){var s="unchecked";for(u in a[o])s!=0&&(e.inArray(a[o][u],t)>-1?s=!0:s=!1);if(s===!0&&typeof r=="function"){var f="";for(var l in t)t[l]!=""&&(f+=h[t[l]]+"+");f=f.substring(0,f.length-1);r.call(this,f);n===!1&&i.preventDefault()}}}).bind("keyup.jkey",function(e){t[e.keyCode]=""})})}})(jQuery);(function(e,t,n){(function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)})(function(r){function P(e){var t=function(e){return e===o||"object"!=typeof e},n=function(e){return!r.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery)};if(!e||"object"!=typeof e)return s;t(e.metadata)&&(e.metadata={type:e.metadata});if("content"in e){if(t(e.content)||e.content.jquery)e.content={text:e.content};n(e.content.text||s)&&(e.content.text=s);if("title"in e.content){t(e.content.title)&&(e.content.title={text:e.content.title});n(e.content.title.text||s)&&(e.content.title.text=s)}}"position"in e&&t(e.position)&&(e.position={my:e.position,at:e.position});"show"in e&&t(e.show)&&(e.show=e.show.jquery?{target:e.show}:{event:e.show});"hide"in e&&t(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide});"style"in e&&t(e.style)&&(e.style={classes:e.style});r.each(w,function(){this.sanitize&&this.sanitize(e)});return e}function H(u,a,m,g){function U(e){var t=0,n,r=a,i=e.split(".");while(r=r[i[t++]])t<i.length&&(n=r);return[n||a,i.pop()]}function z(e,t,n){var i=r.Event("tooltip"+e);i.originalEvent=(n?r.extend({},n):o)||R.event||o;F.trigger(i,[y].concat(t||[]));return!i.isDefaultPrevented()}function W(){var e=a.style.widget;F.toggleClass("ui-helper-reset "+T,e).toggleClass(k,a.style.def&&!e);q.content&&q.content.toggleClass(T+"-content",e);q.titlebar&&q.titlebar.toggleClass(T+"-header",e);q.button&&q.button.toggleClass(x+"-icon",!e)}function X(e){if(q.title){q.titlebar.remove();q.titlebar=q.title=q.button=o;e!==s&&y.reposition()}}function V(){var e=a.content.title.button,t=typeof e=="string",n=t?e:"Close tooltip";q.button&&q.button.remove();e.jquery?q.button=e:q.button=r("<a />",{"class":"ui-state-default ui-tooltip-close "+(a.style.widget?"":x+"-icon"),title:n,"aria-label":n}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));q.button.appendTo(q.titlebar).attr("role","button").click(function(e){F.hasClass(N)||y.hide(e);return s});y.redraw()}function J(){var e=H+"-title";q.titlebar&&X();q.titlebar=r("<div />",{"class":x+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(q.title=r("<div />",{id:e,"class":x+"-title","aria-atomic":i})).insertBefore(q.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(e){r(this).toggleClass("ui-state-active ui-state-focus",e.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(e){r(this).toggleClass("ui-state-hover",e.type==="mouseover")});a.content.title.button?V():y.rendered&&y.redraw()}function K(e){var t=q.button,n=q.title;if(!y.rendered)return s;if(!e)t.remove();else{n||J();V()}}function Q(e,t){var n=q.title;if(!y.rendered||!e)return s;r.isFunction(e)&&(e=e.call(u,R.event,y));if(e===s||!e&&e!=="")return X(s);e.jquery&&e.length>0?n.empty().append(e.css({display:"block"})):n.html(e);y.redraw();t!==s&&y.rendered&&F[0].offsetWidth>0&&y.reposition(R.event)}function G(e,t){function o(e){function a(n){if(n){delete u[n.src];clearTimeout(y.timers.img[n.src]);r(n).unbind(I)}if(r.isEmptyObject(u)){y.redraw();t!==s&&y.reposition(R.event);e()}}var o,u={};if((o=i.find("img[src]:not([height]):not([width])")).length===0)return a();o.each(function(e,t){if(u[t.src]!==n)return;var i=0,s=3;(function o(){if(t.height||t.width||i>s)return a(t);i+=1;y.timers.img[t.src]=setTimeout(o,700)})();r(t).bind("error"+I+" load"+I,function(){a(this)});u[t.src]=t})}var i=q.content;if(!y.rendered||!e)return s;r.isFunction(e)&&(e=e.call(u,R.event,y)||"");e.jquery&&e.length>0?i.empty().append(e.css({display:"block"})):i.html(e);if(y.rendered<0)F.queue("fx",o);else{j=0;o(r.noop)}return y}function Y(){function c(e){if(F.hasClass(N))return s;clearTimeout(y.timers.show);clearTimeout(y.timers.hide);var t=function(){y.toggle(i,e)};a.show.delay>0?y.timers.show=setTimeout(t,a.show.delay):t()}function h(e){if(F.hasClass(N)||B||j)return s;var t=r(e.relatedTarget||e.target),i=t.closest(C)[0]===F[0],u=t[0]===o.show[0];clearTimeout(y.timers.show);clearTimeout(y.timers.hide);if(n.target==="mouse"&&i||a.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||u)){try{e.preventDefault();e.stopImmediatePropagation()}catch(f){}return}a.hide.delay>0?y.timers.hide=setTimeout(function(){y.hide(e)},a.hide.delay):y.hide(e)}function p(e){if(F.hasClass(N))return s;clearTimeout(y.timers.inactive);y.timers.inactive=setTimeout(function(){y.hide(e)},a.hide.inactive)}function d(e){y.rendered&&F[0].offsetWidth>0&&y.reposition(e)}var n=a.position,o={show:a.show.target,hide:a.hide.target,viewport:r(n.viewport),document:r(t),body:r(t.body),window:r(e)},f={show:r.trim(""+a.show.event).split(" "),hide:r.trim(""+a.hide.event).split(" ")},l=r.browser.msie&&parseInt(r.browser.version,10)===6;F.bind("mouseenter"+I+" mouseleave"+I,function(e){var t=e.type==="mouseenter";t&&y.focus(e);F.toggleClass(A,t)});/mouse(out|leave)/i.test(a.hide.event)&&a.hide.leave==="window"&&o.window.bind("mouseout"+I+" blur"+I,function(e){!/select|option/.test(e.target.nodeName)&&!e.relatedTarget&&y.hide(e)});if(a.hide.fixed){o.hide=o.hide.add(F);F.bind("mouseover"+I,function(){F.hasClass(N)||clearTimeout(y.timers.hide)})}else/mouse(over|enter)/i.test(a.show.event)&&o.hide.bind("mouseleave"+I,function(e){clearTimeout(y.timers.show)});(""+a.hide.event).indexOf("unfocus")>-1&&n.container.closest("html").bind("mousedown"+I,function(e){var t=r(e.target),n=y.rendered&&!F.hasClass(N)&&F[0].offsetWidth>0,i=t.parents(C).filter(F[0]).length>0;t[0]!==u[0]&&t[0]!==F[0]&&!i&&!u.has(t[0]).length&&!t.attr("disabled")&&y.hide(e)});if("number"==typeof a.hide.inactive){o.show.bind("qtip-"+m+"-inactive",p);r.each(b.inactiveEvents,function(e,t){o.hide.add(q.tooltip).bind(t+I+"-inactive",p)})}r.each(f.hide,function(e,t){var n=r.inArray(t,f.show),i=r(o.hide);if(n>-1&&i.add(o.show).length===i.length||t==="unfocus"){o.show.bind(t+I,function(e){F[0].offsetWidth>0?h(e):c(e)});delete f.show[n]}else o.hide.bind(t+I,h)});r.each(f.show,function(e,t){o.show.bind(t+I,c)});"number"==typeof a.hide.distance&&o.show.add(F).bind("mousemove"+I,function(e){var t=R.origin||{},n=a.hide.distance,r=Math.abs;(r(e.pageX-t.pageX)>=n||r(e.pageY-t.pageY)>=n)&&y.hide(e)});if(n.target==="mouse"){o.show.bind("mousemove"+I,function(e){E={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}});if(n.adjust.mouse){if(a.hide.event){F.bind("mouseleave"+I,function(e){(e.relatedTarget||e.target)!==o.show[0]&&y.hide(e)});q.target.bind("mouseenter"+I+" mouseleave"+I,function(e){R.onTarget=e.type==="mouseenter"})}o.document.bind("mousemove"+I,function(e){y.rendered&&R.onTarget&&!F.hasClass(N)&&F[0].offsetWidth>0&&y.reposition(e||E)})}}(n.adjust.resize||o.viewport.length)&&(r.event.special.resize?o.viewport:o.window).bind("resize"+I,d);(o.viewport.length||l&&F.css("position")==="fixed")&&o.viewport.bind("scroll"+I,d)}function Z(){var n=[a.show.target[0],a.hide.target[0],y.rendered&&q.tooltip[0],a.position.container[0],a.position.viewport[0],a.position.container.closest("html")[0],e,t];y.rendered?r([]).pushStack(r.grep(n,function(e){return typeof e=="object"})).unbind(I):a.show.target.unbind(I+"-create")}var y=this,O=t.body,H=x+"-"+m,B=0,j=0,F=r(),I=".qtip-"+m,q,R;y.id=m;y.rendered=s;y.destroyed=s;y.elements=q={target:u};y.timers={img:{}};y.options=a;y.checks={};y.plugins={};y.cache=R={event:{},target:r(),disabled:s,attr:g,onTarget:s,lastClass:""};y.checks.builtin={"^id$":function(e,t,n){var o=n===i?b.nextid:n,u=x+"-"+o;if(o!==s&&o.length>0&&!r("#"+u).length){F[0].id=u;q.content[0].id=u+"-content";q.title[0].id=u+"-title"}},"^content.text$":function(e,t,n){G(n)},"^content.title.text$":function(e,t,n){if(!n)return X();!q.title&&n&&J();Q(n)},"^content.title.button$":function(e,t,n){K(n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new w.Corner(n))},"^position.container$":function(e,t,n){y.rendered&&F.appendTo(n)},"^show.ready$":function(){y.rendered?y.toggle(i):y.render(1)},"^style.classes$":function(e,t,n){F.attr("class",x+" qtip "+n)},"^style.widget|content.title":W,"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){F[(r.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=a.position;F.attr("tracking",e.target==="mouse"&&e.adjust.mouse);Z();Y()}};r.extend(y,{render:function(e){if(y.rendered)return y;var t=a.content.text,n=a.content.title.text,o=a.position;r.attr(u[0],"aria-describedby",H);F=q.tooltip=r("<div/>",{id:H,"class":x+" qtip "+k+" "+a.style.classes+" "+x+"-pos-"+a.position.my.abbrev(),width:a.style.width||"",height:a.style.height||"",tracking:o.target==="mouse"&&o.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":s,"aria-describedby":H+"-content","aria-hidden":i}).toggleClass(N,R.disabled).data("qtip",y).appendTo(a.position.container).append(q.content=r("<div />",{"class":x+"-content",id:H+"-content","aria-atomic":i}));y.rendered=-1;j=1;B=1;if(n){J();r.isFunction(n)||Q(n,s)}r.isFunction(t)||G(t,s);y.rendered=i;W();r.each(a.events,function(e,t){r.isFunction(t)&&F.bind(e==="toggle"?"tooltipshow tooltiphide":"tooltip"+e,t)});r.each(w,function(){this.initialize==="render"&&this(y)});Y();F.queue("fx",function(t){z("render");j=0;B=0;y.redraw();(a.show.ready||e)&&y.toggle(i,R.event,s);t()});return y},get:function(e){var t,n;switch(e.toLowerCase()){case"dimensions":t={height:F.outerHeight(),width:F.outerWidth()};break;case"offset":t=w.offset(F,a.position.container);break;default:n=U(e.toLowerCase());t=n[0][n[1]];t=t.precedance?t.string():t}return t},set:function(e,t){function p(e,t){var n,r,i;for(n in c)for(r in c[n])if(i=(new RegExp(r,"i")).exec(e)){t.push(i);c[n][r].apply(y,t)}}var n=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,u=/^content\.(title|attr)|style/i,f=s,l=s,c=y.checks,h;if("string"==typeof e){h=e;e={};e[h]=t}else e=r.extend(i,{},e);r.each(e,function(t,i){var s=U(t.toLowerCase()),o;o=s[0][s[1]];s[0][s[1]]="object"==typeof i&&i.nodeType?r(i):i;e[t]=[s[0],s[1],i,o];f=n.test(t)||f;l=u.test(t)||l});P(a);B=j=1;r.each(e,p);B=j=0;if(y.rendered&&F[0].offsetWidth>0){f&&y.reposition(a.position.target==="mouse"?o:R.event);l&&y.redraw()}return y},toggle:function(e,n){function b(){if(e){r.browser.msie&&F[0].style.removeAttribute("filter");F.css("overflow","");"string"==typeof u.autofocus&&r(u.autofocus,F).focus();u.target.trigger("qtip-"+m+"-inactive")}else F.css({display:"",visibility:"",opacity:"",left:"",top:""});z(e?"visible":"hidden")}if(!y.rendered)return e?y.render(1):y;var o=e?"show":"hide",u=a[o],f=a[e?"hide":"show"],l=a.position,c=a.content,h=F[0].offsetWidth>0,p=e||u.target.length===1,d=!n||u.target.length<2||R.target[0]===n.target,v,g;(typeof e).search("boolean|number")&&(e=!h);if(!F.is(":animated")&&h===e&&d)return y;if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(R.event.type)&&a.show.target.add(n.target).length===a.show.target.length&&F.has(n.relatedTarget).length)return y;R.event=r.extend({},n)}if(!z(o,[90]))return y;r.attr(F[0],"aria-hidden",!e);if(e){R.origin=r.extend({},E);y.focus(n);r.isFunction(c.text)&&G(c.text,s);r.isFunction(c.title.text)&&Q(c.title.text,s);if(!_&&l.target==="mouse"&&l.adjust.mouse){r(t).bind("mousemove.qtip",function(e){E={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}});_=i}y.reposition(n,arguments[2]);!u.solo||r(C,u.solo).not(F).qtip("hide",r.Event("tooltipsolo"))}else{clearTimeout(y.timers.show);delete R.origin;if(_&&!r(C+'[tracking="true"]:visible',u.solo).not(F).length){r(t).unbind("mousemove.qtip");_=s}y.blur(n)}if(u.effect===s||p===s){F[o]();b.call(F)}else if(r.isFunction(u.effect)){F.stop(1,1);u.effect.call(F,y);F.queue("fx",function(e){b();e()})}else F.fadeTo(90,e?1:0,b);e&&u.target.trigger("qtip-"+m+"-inactive");return y},show:function(e){return y.toggle(i,e)},hide:function(e){return y.toggle(s,e)},focus:function(e){if(!y.rendered)return y;var t=r(C),n=parseInt(F[0].style.zIndex,10),i=b.zindex+t.length,s=r.extend({},e),o;if(!F.hasClass(L)&&z("focus",[i],s)){if(n!==i){t.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)});t.filter("."+L).qtip("blur",s)}F.addClass(L)[0].style.zIndex=i}return y},blur:function(e){F.removeClass(L);z("blur",[F.css("zIndex")],e);return y},reposition:function(n,i){if(!y.rendered||B)return y;B=1;var o=a.position.target,u=a.position,f=u.my,l=u.at,m=u.adjust,g=m.method.split(" "),b=F.outerWidth(),S=F.outerHeight(),x=0,T=0,N=F.css("position")==="fixed",C=u.viewport,k={left:0,top:0},L=u.container,A=F[0].offsetWidth>0,O,M,_;if(r.isArray(o)&&o.length===2){l={x:h,y:c};k={left:o[0],top:o[1]}}else if(o==="mouse"&&(n&&n.pageX||R.event.pageX)){l={x:h,y:c};n=(!n||n.type!=="resize"&&n.type!=="scroll"?n&&n.pageX&&n.type==="mousemove"?n:E&&E.pageX&&(m.mouse||!n||!n.pageX)?{pageX:E.pageX,pageY:E.pageY}:!m.mouse&&R.origin&&R.origin.pageX&&a.show.distance?R.origin:n:R.event)||n||R.event||E||{};k={top:n.pageY,left:n.pageX}}else{o==="event"&&n&&n.target&&n.type!=="scroll"&&n.type!=="resize"?R.target=r(n.target):o!=="event"&&(R.target=r(o.jquery?o:q.target));o=R.target;o=r(o).eq(0);if(o.length===0)return y;if(o[0]===t||o[0]===e){x=w.iOS?e.innerWidth:o.width();T=w.iOS?e.innerHeight:o.height();o[0]===e&&(k={top:(C||o).scrollTop(),left:(C||o).scrollLeft()})}else if(w.imagemap&&o.is("area"))O=w.imagemap(y,o,l,w.viewport?g:s);else if(w.svg&&typeof o[0].xmlbase=="string")O=w.svg(y,o,l,w.viewport?g:s);else{x=o.outerWidth();T=o.outerHeight();k=w.offset(o,L)}if(O){x=O.width;T=O.height;M=O.offset;k=O.position}if(w.iOS>3.1&&w.iOS<4.1||w.iOS>=4.3&&w.iOS<4.33||!w.iOS&&N){_=r(e);k.left-=_.scrollLeft();k.top-=_.scrollTop()}k.left+=l.x===d?x:l.x===v?x/2:0;k.top+=l.y===p?T:l.y===v?T/2:0}k.left+=m.x+(f.x===d?-b:f.x===v?-b/2:0);k.top+=m.y+(f.y===p?-S:f.y===v?-S/2:0);if(w.viewport){k.adjusted=w.viewport(y,k,u,x,T,b,S);M&&k.adjusted.left&&(k.left+=M.left);M&&k.adjusted.top&&(k.top+=M.top)}else k.adjusted={left:0,top:0};if(!z("move",[k,C.elem||C],n))return y;delete k.adjusted;if(i===s||!A||isNaN(k.left)||isNaN(k.top)||o==="mouse"||!r.isFunction(u.effect))F.css(k);else if(r.isFunction(u.effect)){u.effect.call(F,y,r.extend({},k));F.queue(function(e){r(this).css({opacity:"",height:""});r.browser.msie&&this.style.removeAttribute("filter");e()})}B=0;return y},redraw:function(){if(y.rendered<1||j)return y;var e=a.style,t=a.position.container,n,r,i,s;j=1;z("redraw");e.height&&F.css(l,e.height);if(e.width)F.css(f,e.width);else{F.css(f,"").appendTo(D);r=F.width();r%2<1&&(r+=1);i=F.css("max-width")||"";s=F.css("min-width")||"";n=(i+s).indexOf("%")>-1?t.width()/100:0;i=(i.indexOf("%")>-1?n:1)*parseInt(i,10)||r;s=(s.indexOf("%")>-1?n:1)*parseInt(s,10)||0;r=i+s?Math.min(Math.max(r,s),i):r;F.css(f,Math.round(r)).appendTo(t)}z("redrawn");j=0;return y},disable:function(e){"boolean"!=typeof e&&(e=!F.hasClass(N)&&!R.disabled);if(y.rendered){F.toggleClass(N,e);r.attr(F[0],"aria-disabled",e)}else R.disabled=!!e;return y},enable:function(){return y.disable(s)},destroy:function(){var e=u[0],t=r.attr(e,M),n=u.data("qtip");y.destroyed=i;if(y.rendered){F.stop(1,0).remove();r.each(y.plugins,function(){this.destroy&&this.destroy()})}clearTimeout(y.timers.show);clearTimeout(y.timers.hide);Z();if(!n||y===n){r.removeData(e,"qtip");if(a.suppress&&t){r.attr(e,"title",t);u.removeAttr(M)}u.removeAttr("aria-describedby")}u.unbind(".qtip-"+m);delete S[y.id];return u}})}function B(e,n){var u,a,f,l,c,h=r(this),p=r(t.body),d=this===t?p:h,v=h.metadata?h.metadata(n.metadata):o,m=n.metadata.type==="html5"&&v?v[n.metadata.name]:o,g=h.data(n.metadata.name||"qtipopts");try{g=typeof g=="string"?r.parseJSON(g):g}catch(y){}l=r.extend(i,{},b.defaults,n,typeof g=="object"?P(g):o,P(m||v));a=l.position;l.id=e;if("boolean"==typeof l.content.text){f=h.attr(l.content.attr);if(l.content.attr===s||!f)return s;l.content.text=f}a.container.length||(a.container=p);a.target===s&&(a.target=d);l.show.target===s&&(l.show.target=d);l.show.solo===i&&(l.show.solo=a.container.closest("body"));l.hide.target===s&&(l.hide.target=d);l.position.viewport===i&&(l.position.viewport=a.container);a.container=a.container.eq(0);a.at=new w.Corner(a.at);a.my=new w.Corner(a.my);if(r.data(this,"qtip"))if(l.overwrite)h.qtip("destroy");else if(l.overwrite===s)return s;l.suppress&&(c=r.attr(this,"title"))&&r(this).removeAttr("title").attr(M,c).attr("title","");u=new H(h,l,e,!!f);r.data(this,"qtip",u);h.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){u.destroy()});return u}function j(e){var t=this,n=e.elements.tooltip,o=e.options.content.ajax,u=b.defaults.content.ajax,a=".qtip-ajax",f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,l=i,c=s,h;e.checks.ajax={"^content.ajax":function(e,r,i){r==="ajax"&&(o=i);r==="once"?t.init():o&&o.url?t.load():n.unbind(a)}};r.extend(t,{init:function(){o&&o.url&&n.unbind(a)[o.once?"one":"bind"]("tooltipshow"+a,t.load);return t},load:function(n){function g(){var t;if(e.destroyed)return;l=s;if(v){c=i;e.show(n.originalEvent)}(t=u.complete||o.complete)&&r.isFunction(t)&&t.apply(o.context||e,arguments)}function y(t,n,i){var s;if(e.destroyed)return;d&&"string"==typeof t&&(t=r("<div/>").append(t.replace(f,"")).find(d));(s=u.success||o.success)&&r.isFunction(s)?s.call(o.context||e,t,n,i):e.set("content.text",t)}function b(t,n,r){if(e.destroyed||t.status===0)return;e.set("content.text",n+": "+r)}if(c){c=s;return}var a=o.url.lastIndexOf(" "),p=o.url,d,v=!o.loading&&l;if(v)try{n.preventDefault()}catch(m){}else if(n&&n.isDefaultPrevented())return t;h&&h.abort&&h.abort();if(a>-1){d=p.substr(a);p=p.substr(0,a)}h=r.ajax(r.extend({error:u.error||b,context:e},o,{url:p,success:y,complete:g}))},destroy:function(){h&&h.abort&&h.abort();e.destroyed=i}});t.init()}function F(e,t,n){var r=Math.ceil(t/2),i=Math.ceil(n/2),s={bottomright:[[0,0],[t,n],[t,0]],bottomleft:[[0,0],[t,0],[0,n]],topright:[[0,n],[t,0],[t,n]],topleft:[[0,0],[0,n],[t,n]],topcenter:[[0,n],[r,0],[t,n]],bottomcenter:[[0,0],[t,0],[r,n]],rightcenter:[[0,0],[t,i],[0,n]],leftcenter:[[t,0],[t,n],[0,i]]};s.lefttop=s.bottomright;s.righttop=s.bottomleft;s.leftbottom=s.topright;s.rightbottom=s.topleft;return s[e.string()]}function I(e,t){function A(e){var t=E.is(":visible");E.show();e();E.toggle(t)}function O(){x.width=g.height;x.height=g.width}function M(){x.width=g.width;x.height=g.height}function _(t,r,o,f){if(!b.tip)return;var l=m.corner.clone(),w=o.adjusted,E=e.options.position.adjust.method.split(" "),x=E[0],T=E[1]||E[0],N={left:s,top:s,x:0,y:0},C,k={},L;if(m.corner.fixed!==i){x===y&&l.precedance===u&&w.left&&l.y!==v?l.precedance=l.precedance===u?a:u:x!==y&&w.left&&(l.x=l.x===v?w.left>0?h:d:l.x===h?d:h);T===y&&l.precedance===a&&w.top&&l.x!==v?l.precedance=l.precedance===a?u:a:T!==y&&w.top&&(l.y=l.y===v?w.top>0?c:p:l.y===c?p:c);l.string()!==S.corner.string()&&(S.top!==w.top||S.left!==w.left)&&m.update(l,s)}C=m.position(l,w);C[l.x]+=P(l,l.x);C[l.y]+=P(l,l.y);C.right!==n&&(C.left=-C.right);C.bottom!==n&&(C.top=-C.bottom);C.user=Math.max(0,g.offset);if(N.left=x===y&&!!w.left)if(l.x===v)k["margin-left"]=N.x=C["margin-left"]-w.left;else{L=C.right!==n?[w.left,-C.left]:[-w.left,C.left];if((N.x=Math.max(L[0],L[1]))>L[0]){o.left-=w.left;N.left=s}k[C.right!==n?d:h]=N.x}if(N.top=T===y&&!!w.top)if(l.y===v)k["margin-top"]=N.y=C["margin-top"]-w.top;else{L=C.bottom!==n?[w.top,-C.top]:[-w.top,C.top];if((N.y=Math.max(L[0],L[1]))>L[0]){o.top-=w.top;N.top=s}k[C.bottom!==n?p:c]=N.y}b.tip.css(k).toggle(!(N.x&&N.y||l.x===v&&N.y||l.y===v&&N.x));o.left-=C.left.charAt?C.user:x!==y||N.top||!N.left&&!N.top?C.left:0;o.top-=C.top.charAt?C.user:T!==y||N.left||!N.left&&!N.top?C.top:0;S.left=w.left;S.top=w.top;S.corner=l.clone(
)}function D(){var t=g.corner,n=e.options.position,r=n.at,o=n.my.string?n.my.string():n.my;if(t===s||o===s&&r===s)return s;if(t===i)m.corner=new w.Corner(o);else if(!t.string){m.corner=new w.Corner(t);m.corner.fixed=i}S.corner=new w.Corner(m.corner.string());return m.corner.string()!=="centercenter"}function P(e,t,n){t=t?t:e[e.precedance];var r=b.titlebar&&e.y===c,i=r?b.titlebar:E,s="border-"+t+"-width",o=function(e){return parseInt(e.css(s),10)},u;A(function(){u=(n?o(n):o(b.content)||o(i)||o(E))||0});return u}function H(e){var t=b.titlebar&&e.y===c,n=t?b.titlebar:b.content,i=r.browser.mozilla,s=i?"-moz-":r.browser.webkit?"-webkit-":"",o="border-radius-"+e.y+e.x,u="border-"+e.y+"-"+e.x+"-radius",a=function(e){return parseInt(n.css(e),10)||parseInt(E.css(e),10)},f;A(function(){f=a(u)||a(s+u)||a(s+o)||a(o)||0});return f}function B(e){function N(e,t,n){var r=e.css(t)||p;return n&&r===e.css(n)?s:f.test(r)?s:r}var t,n,o,u=b.tip.css("cssText",""),a=e||m.corner,f=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,l="border-"+a[a.precedance]+"-color",h="background-color",p="transparent",d=" !important",y=b.titlebar,w=y&&(a.y===c||a.y===v&&u.position().top+x.height/2+g.offset<y.outerHeight(i)),S=w?y:b.content;A(function(){T.fill=N(u,h)||N(S,h)||N(b.content,h)||N(E,h)||u.css(h);T.border=N(u,l,"color")||N(S,l,"color")||N(b.content,l,"color")||N(E,l,"color")||E.css(l);r("*",u).add(u).css("cssText",h+":"+p+d+";border:0"+d+";")})}function j(e){var t=e.precedance===a,n=x[t?f:l],r=x[t?l:f],i=e.string().indexOf(v)>-1,s=n*(i?.5:1),o=Math.pow,u=Math.round,c,h,p,d=Math.sqrt(o(s,2)+o(r,2)),m=[N/s*d,N/r*d];m[2]=Math.sqrt(o(m[0],2)-o(N,2));m[3]=Math.sqrt(o(m[1],2)-o(N,2));c=d+m[2]+m[3]+(i?0:m[0]);h=c/d;p=[u(h*r),u(h*n)];return{height:p[t?0:1],width:p[t?1:0]}}function I(e,t,n){return"<qvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'}var m=this,g=e.options.style.tip,b=e.elements,E=b.tooltip,S={top:0,left:0},x={width:g.width,height:g.height},T={},N=g.border||0,C=".qtip-tip",k=!!(r("<canvas />")[0]||{}).getContext,L;m.corner=o;m.mimic=o;m.border=N;m.offset=g.offset;m.size=x;e.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){m.init()||m.destroy();e.reposition()},"^style.tip.(height|width)$":function(){x={width:g.width,height:g.height};m.create();m.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){b.tip&&b.tip.length&&m.update()}};r.extend(m,{init:function(){var e=D()&&(k||r.browser.msie);if(e){m.create();m.update();E.unbind(C).bind("tooltipmove"+C,_);k||E.bind("tooltipredraw tooltipredrawn",function(e){if(e.type==="tooltipredraw"){L=b.tip.html();b.tip.html("")}else b.tip.html(L)})}return e},create:function(){var e=x.width,t=x.height,n;b.tip&&b.tip.remove();b.tip=r("<div />",{"class":"ui-tooltip-tip"}).css({width:e,height:t}).prependTo(E);if(k)r("<canvas />").appendTo(b.tip)[0].getContext("2d").save();else{n=I("shape",'coordorigin="0,0"',"position:absolute;");b.tip.html(n+n);r("*",b.tip).bind("click mousedown",function(e){e.stopPropagation()})}},update:function(e,t){var n=b.tip,f=n.children(),l=x.width,y=x.height,C=g.mimic,L=Math.round,A,_,D,H,q;e||(e=S.corner||m.corner);if(C===s)C=e;else{C=new w.Corner(C);C.precedance=e.precedance;C.x==="inherit"?C.x=e.x:C.y==="inherit"?C.y=e.y:C.x===C.y&&(C[e.precedance]=e[e.precedance])}A=C.precedance;e.precedance===u?O():M();b.tip.css({width:l=x.width,height:y=x.height});B(e);if(T.border!=="transparent"){N=P(e,o);g.border===0&&N>0&&(T.fill=T.border);m.border=N=g.border!==i?g.border:N}else m.border=N=0;D=F(C,l,y);m.size=q=j(e);n.css(q);e.precedance===a?H=[L(C.x===h?N:C.x===d?q.width-l-N:(q.width-l)/2),L(C.y===c?q.height-y:0)]:H=[L(C.x===h?q.width-l:0),L(C.y===c?N:C.y===p?q.height-y-N:(q.height-y)/2)];if(k){f.attr(q);_=f[0].getContext("2d");_.restore();_.save();_.clearRect(0,0,3e3,3e3);_.fillStyle=T.fill;_.strokeStyle=T.border;_.lineWidth=N*2;_.lineJoin="miter";_.miterLimit=100;_.translate(H[0],H[1]);_.beginPath();_.moveTo(D[0][0],D[0][1]);_.lineTo(D[1][0],D[1][1]);_.lineTo(D[2][0],D[2][1]);_.closePath();if(N){if(E.css("background-clip")==="border-box"){_.strokeStyle=T.fill;_.stroke()}_.strokeStyle=T.border;_.stroke()}_.fill()}else{D="m"+D[0][0]+","+D[0][1]+" l"+D[1][0]+","+D[1][1]+" "+D[2][0]+","+D[2][1]+" xe";H[2]=N&&/^(r|b)/i.test(e.string())?parseFloat(r.browser.version,10)===8?2:1:0;f.css({coordsize:l+N+" "+(y+N),antialias:""+(C.string().indexOf(v)>-1),left:H[0],top:H[1],width:l+N,height:y+N}).each(function(e){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:l+N+" "+(y+N),path:D,fillcolor:T.fill,filled:!!e,stroked:!e}).toggle(!!N||!!e);!e&&t.html()===""&&t.html(I("stroke",'weight="'+N*2+'px" color="'+T.border+'" miterlimit="1000" joinstyle="miter"'))})}t!==s&&m.position(e)},position:function(e){var t=b.tip,n={},i=Math.max(0,g.offset),o,p,d;if(g.corner===s||!t)return s;e=e||m.corner;o=e.precedance;p=j(e);d=[e.x,e.y];o===u&&d.reverse();r.each(d,function(t,r){var s,u,d;if(r===v){s=o===a?h:c;n[s]="50%";n["margin-"+s]=-Math.round(p[o===a?f:l]/2)+i}else{s=P(e,r);u=P(e,r,b.content);d=H(e);n[r]=t?u:i+(d>s?d:-s)}});n[e[o]]-=p[o===u?f:l];t.css({top:"",bottom:"",left:"",right:"",margin:""}).css(n);return n},destroy:function(){b.tip&&b.tip.remove();b.tip=!1;E.unbind(C)}});m.init()}function q(n){function y(){m=r(v,f).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function b(e){m.length<1&&e.length?e.not("body").blur():m.first().focus()}function E(e){var t=r(e.target),n=t.closest(".qtip"),i;i=n.length<1?s:parseInt(n[0].style.zIndex,10)>parseInt(f[0].style.zIndex,10);!i&&r(e.target).closest(C)[0]!==f[0]&&b(t)}var o=this,u=n.options.show.modal,a=n.elements,f=a.tooltip,l="#qtip-overlay",c=".qtipmodal",h=c+n.id,p="is-modal-qtip",d=r(t.body),v=w.modal.focusable.join(","),m={},g;n.checks.modal={"^show.modal.(on|blur)$":function(){o.init();a.overlay.toggle(f.is(":visible"))},"^content.text$":function(){y()}};r.extend(o,{init:function(){if(!u.on)return o;g=o.create();f.attr(p,i).css("z-index",w.modal.zindex+r(C+"["+p+"]").length).unbind(c).unbind(h).bind("tooltipshow"+c+" tooltiphide"+c,function(e,t,n){var i=e.originalEvent;if(e.target===f[0])if(i&&e.type==="tooltiphide"&&/mouse(leave|enter)/.test(i.type)&&r(i.relatedTarget).closest(g[0]).length)try{e.preventDefault()}catch(s){}else(!i||i&&!i.solo)&&o[e.type.replace("tooltip","")](e,n)}).bind("tooltipfocus"+c,function(e){if(e.isDefaultPrevented()||e.target!==f[0])return;var t=r(C).filter("["+p+"]"),n=w.modal.zindex+t.length,i=parseInt(f[0].style.zIndex,10);g[0].style.zIndex=n-2;t.each(function(){this.style.zIndex>i&&(this.style.zIndex-=1)});t.end().filter("."+L).qtip("blur",e.originalEvent);f.addClass(L)[0].style.zIndex=n;try{e.preventDefault()}catch(s){}}).bind("tooltiphide"+c,function(e){e.target===f[0]&&r("["+p+"]").filter(":visible").not(f).last().qtip("focus",e)});u.escape&&r(t).unbind(h).bind("keydown"+h,function(e){e.keyCode===27&&f.hasClass(L)&&n.hide(e)});u.blur&&a.overlay.unbind(h).bind("click"+h,function(e){f.hasClass(L)&&n.hide(e)});y();return o},create:function(){function n(){g.css({height:r(e).height(),width:r(e).width()})}var t=r(l);if(t.length)return a.overlay=t.insertAfter(r(C).last());g=a.overlay=r("<div />",{id:l.substr(1),html:"<div></div>",mousedown:function(){return s}}).hide().insertAfter(r(C).last());r(e).unbind(c).bind("resize"+c,n);n();return g},toggle:function(e,t,n){if(e&&e.isDefaultPrevented())return o;var a=u.effect,l=t?"show":"hide",c=g.is(":visible"),v=r("["+p+"]").filter(":visible").not(f),m;g||(g=o.create());if(g.is(":animated")&&c===t||!t&&v.length)return o;if(t){g.css({left:0,top:0});g.toggleClass("blurs",u.blur);if(u.stealfocus!==s){d.bind("focusin"+h,E);b(r("body :focus"))}}else d.unbind("focusin"+h);g.stop(i,s);r.isFunction(a)?a.call(g,t):a===s?g[l]():g.fadeTo(parseInt(n,10)||90,t?1:0,function(){t||r(this).hide()});t||g.queue(function(e){g.css({left:"",top:""});e()});return o},show:function(e,t){return o.toggle(e,i,t)},hide:function(e,t){return o.toggle(e,s,t)},destroy:function(){var e=g;if(e){e=r("["+p+"]").not(f).length<1;if(e){a.overlay.remove();r(t).unbind(c)}else a.overlay.unbind(c+n.id);d.undelegate("*","focusin"+h)}return f.removeAttr(p).unbind(c)}});o.init()}function R(e){var t=this,n=e.elements,i=n.tooltip,s=".bgiframe-"+e.id;r.extend(t,{init:function(){n.bgiframe=r('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>');n.bgiframe.appendTo(i);i.bind("tooltipmove"+s,t.adjust)},adjust:function(){var t=e.get("dimensions"),r=e.plugins.tip,s=n.tip,o,u;u=parseInt(i.css("border-left-width"),10)||0;u={left:-u,top:-u};if(r&&s){o=r.corner.precedance==="x"?["width","left"]:["height","top"];u[o[1]]-=s[o[0]]()}n.bgiframe.css(u).css(t)},destroy:function(){n.bgiframe.remove();i.unbind(s)}});t.init()}var i=!0,s=!1,o=null,u="x",a="y",f="width",l="height",c="top",h="left",p="bottom",d="right",v="center",m="flip",g="flipinvert",y="shift",b,w,E,S={},x="ui-tooltip",T="ui-widget",N="ui-state-disabled",C="div.qtip."+x,k=x+"-default",L=x+"-focus",A=x+"-hover",O="_replacedByqTip",M="oldtitle",_,D;D=r("<div/>",{id:"qtip-rcontainer"});r(function(){D.appendTo(t.body)});b=r.fn.qtip=function(e,t,u){var a=(""+e).toLowerCase(),f=o,l=r.makeArray(arguments).slice(1),c=l[l.length-1],h=this[0]?r.data(this[0],"qtip"):o;if(!arguments.length&&h||a==="api")return h;if("string"==typeof e){this.each(function(){var e=r.data(this,"qtip");if(!e)return i;c&&c.timeStamp&&(e.cache.event=c);if(a!=="option"&&a!=="options"||!t)e[a]&&e[a].apply(e[a],l);else{if(!r.isPlainObject(t)&&u===n){f=e.get(t);return s}e.set(t,u)}});return f!==o?f:this}if("object"==typeof e||!arguments.length){h=P(r.extend(i,{},e));return b.bind.call(this,h,c)}};b.bind=function(e,t){return this.each(function(o){function p(e){function t(){c.render(typeof e=="object"||u.show.ready);a.show.add(a.hide).unbind(l)}if(c.cache.disabled)return s;c.cache.event=r.extend({},e);c.cache.target=e?r(e.target):[n];if(u.show.delay>0){clearTimeout(c.timers.show);c.timers.show=setTimeout(t,u.show.delay);f.show!==f.hide&&a.hide.bind(f.hide,function(){clearTimeout(c.timers.show)})}else t()}var u,a,f,l,c,h;h=r.isArray(e.id)?e.id[o]:e.id;h=!h||h===s||h.length<1||S[h]?b.nextid++:S[h]=h;l=".qtip-"+h+"-create";c=B.call(this,h,e);if(c===s)return i;u=c.options;r.each(w,function(){this.initialize==="initialize"&&this(c)});a={show:u.show.target,hide:u.hide.target};f={show:r.trim(""+u.show.event).replace(/ /g,l+" ")+l,hide:r.trim(""+u.hide.event).replace(/ /g,l+" ")+l};/mouse(over|enter)/i.test(f.show)&&!/mouse(out|leave)/i.test(f.hide)&&(f.hide+=" mouseleave"+l);a.show.bind("mousemove"+l,function(e){E={pageX:e.pageX,pageY:e.pageY,type:"mousemove"};c.cache.onTarget=i});a.show.bind(f.show,p);(u.show.ready||u.prerender)&&p(t)})};w=b.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,v).toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance=t==="t"||t==="b"?a:u;this.string=function(){return this.precedance===a?this.y+this.x:this.x+this.y};this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===a?t+e:e+t};this.invertx=function(e){this.x=this.x===h?d:this.x===d?h:e||this.x};this.inverty=function(e){this.y=this.y===c?p:this.y===p?c:e||this.y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,t){function f(e,t){n.left+=t*e.scrollLeft();n.top+=t*e.scrollTop()}var n=e.offset(),i=e.closest("body")[0],s=t,o,u,a;if(s){do if(s.css("position")!=="static"){u=s.position();n.left-=u.left+(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("marginLeft"),10)||0);n.top-=u.top+(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0);!o&&(a=s.css("overflow"))!=="hidden"&&a!=="visible"&&(o=s)}while((s=r(s[0].offsetParent)).length);o&&o[0]!==i&&f(o,1)}return n},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||s,fn:{attr:function(e,t){if(this.length){var n=this[0],i="title",s=r.data(n,"qtip");if(e===i&&s&&"object"==typeof s&&s.options.suppress){if(arguments.length<2)return r.attr(n,M);s&&s.options.content.attr===i&&s.cache.attr&&s.set("content.text",t);return this.attr(M,t)}}return r.fn["attr"+O].apply(this,arguments)},clone:function(e){var t=r([]),n="title",i=r.fn["clone"+O].apply(this,arguments);e||i.filter("["+M+"]").attr("title",function(){return r.attr(this,M)}).removeAttr(M);return i}}};r.each(w.fn,function(e,t){if(!t||r.fn[e+O])return i;var n=r.fn[e+O]=r.fn[e];r.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}});if(!r.ui){r["cleanData"+O]=r.cleanData;r.cleanData=function(e){for(var t=0,i;(i=e[t])!==n;t++)try{r(i).triggerHandler("removeqtip")}catch(s){}r["cleanData"+O](e)}}b.version="@VERSION";b.nextid=0;b.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.zindex=15e3;b.defaults={prerender:s,id:s,overwrite:i,suppress:i,content:{text:i,attr:"title",title:{text:s,button:s}},position:{my:"top left",at:"bottom right",target:s,container:s,viewport:s,adjust:{x:0,y:0,mouse:i,resize:i,method:"flip flip"},effect:function(e,t,n){r(this).animate(t,{duration:200,queue:s})}},show:{target:s,event:"mouseenter",effect:i,delay:90,solo:s,ready:s,autofocus:s},hide:{target:s,event:"mouseleave",effect:i,delay:0,fixed:s,inactive:s,leave:"window",distance:s},style:{classes:"",widget:s,width:s,height:s,def:i},events:{render:o,move:o,show:o,hide:o,toggle:o,visible:o,hidden:o,focus:o,blur:o}};w.svg=function(e,n,i,s){var o=r(t),u=n[0],a={width:0,height:0,position:{top:1e10,left:1e10}},f,l,c,h,p;while(!u.getBBox)u=u.parentNode;if(u.getBBox&&u.parentNode){f=u.getBBox();l=u.getScreenCTM();c=u.farthestViewportElement||u;if(!c.createSVGPoint)return a;h=c.createSVGPoint();h.x=f.x;h.y=f.y;p=h.matrixTransform(l);a.position.left=p.x;a.position.top=p.y;h.x+=f.width;h.y+=f.height;p=h.matrixTransform(l);a.width=p.x-a.position.left;a.height=p.y-a.position.top;a.position.left+=o.scrollLeft();a.position.top+=o.scrollTop()}return a};w.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new j(e)};w.ajax.initialize="render";w.ajax.sanitize=function(e){var t=e.content,n;if(t&&"ajax"in t){n=t.ajax;typeof n!="object"&&(n=e.content.ajax={url:n});"boolean"!=typeof n.once&&n.once&&(n.once=!!n.once)}};r.extend(i,b.defaults,{content:{ajax:{loading:i,once:i}}});w.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new I(e)};w.tip.initialize="render";w.tip.sanitize=function(e){var t=e.style,n;if(t&&"tip"in t){n=e.style.tip;typeof n!="object"&&(e.style.tip={corner:n});/string|boolean/i.test(typeof n.corner)||(n.corner=i);typeof n.width!="number"&&delete n.width;typeof n.height!="number"&&delete n.height;typeof n.border!="number"&&n.border!==i&&delete n.border;typeof n.offset!="number"&&delete n.offset}};r.extend(i,b.defaults,{style:{tip:{corner:i,mimic:s,width:6,height:6,border:i,offset:0}}});w.modal=function(e){var t=e.plugins.modal;return"object"==typeof t?t:e.plugins.modal=new q(e)};w.modal.initialize="render";w.modal.sanitize=function(e){e.show&&(typeof e.show.modal!="object"?e.show.modal={on:!!e.show.modal}:typeof e.show.modal.on=="undefined"&&(e.show.modal.on=i))};w.modal.zindex=b.zindex-200;w.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"];r.extend(i,b.defaults,{show:{modal:{on:s,effect:i,blur:i,stealfocus:i,escape:i}}});w.viewport=function(n,r,i,s,o,m,b){function j(e,t,n,i,s,o,u,a,f){var l=r[s],c=S[e],h=T[e],p=n===y,d=-O.offset[s]+A.offset[s]+A["scroll"+s],m=c===s?f:c===o?-f:-f/2,b=h===s?a:h===o?-a:-a/2,w=_&&_.size?_.size[u]||0:0,E=_&&_.corner&&_.corner.precedance===e&&!p?w:0,x=d-l+E,N=l+f-A[u]-d+E,C=m-(S.precedance===e||c===S[t]?b:0)-(h===v?a/2:0);if(p){E=_&&_.corner&&_.corner.precedance===t?w:0;C=(c===s?1:-1)*m-E;r[s]+=x>0?x:N>0?-N:0;r[s]=Math.max(-O.offset[s]+A.offset[s]+(E&&_.corner[e]===v?_.offset:0),l-C,Math.min(Math.max(-O.offset[s]+A.offset[s]+A[u],l+C),r[s]))}else{i*=n===g?2:0;if(x>0&&(c!==s||N>0)){r[s]-=C+i;H["invert"+e](s)}else if(N>0&&(c!==o||x>0)){r[s]-=(c===v?-C:C)+i;H["invert"+e](o)}if(r[s]<d&&-r[s]>N){r[s]=l;H=S.clone()}}return r[s]-l}var w=i.target,E=n.elements.tooltip,S=i.my,T=i.at,N=i.adjust,C=N.method.split(" "),k=C[0],L=C[1]||C[0],A=i.viewport,O=i.container,M=n.cache,_=n.plugins.tip,D={left:0,top:0},P,H,B;if(!A.jquery||w[0]===e||w[0]===t.body||N.method==="none")return D;P=E.css("position")==="fixed";A={elem:A,height:A[(A[0]===e?"h":"outerH")+"eight"](),width:A[(A[0]===e?"w":"outerW")+"idth"](),scrollleft:P?0:A.scrollLeft(),scrolltop:P?0:A.scrollTop(),offset:A.offset()||{left:0,top:0}};O={elem:O,scrollLeft:O.scrollLeft(),scrollTop:O.scrollTop(),offset:O.offset()||{left:0,top:0}};if(k!=="shift"||L!=="shift")H=S.clone();D={left:k!=="none"?j(u,a,k,N.x,h,d,f,s,m):0,top:L!=="none"?j(a,u,L,N.y,c,p,l,o,b):0};H&&M.lastClass!==(B=x+"-pos-"+H.abbrev())&&E.removeClass(n.cache.lastClass).addClass(n.cache.lastClass=B);return D};w.imagemap=function(e,t,n,i){function E(e,t,n){var r=0,i=1,s=1,o=0,u=0,a=e.width,f=e.height;while(a>0&&f>0&&i>0&&s>0){a=Math.floor(a/2);f=Math.floor(f/2);n.x===h?i=a:n.x===d?i=e.width-a:i+=Math.floor(a/2);n.y===c?s=f:n.y===p?s=e.height-f:s+=Math.floor(f/2);r=t.length;while(r--){if(t.length<2)break;o=t[r][0]-e.position.left;u=t[r][1]-e.position.top;(n.x===h&&o>=i||n.x===d&&o<=i||n.x===v&&(o<i||o>e.width-i)||n.y===c&&u>=s||n.y===p&&u<=s||n.y===v&&(u<s||u>e.height-s))&&t.splice(r,1)}}return{left:t[0][0],top:t[0][1]}}t.jquery||(t=r(t));var s=e.cache.areas={},o=(t[0].shape||t.attr("shape")).toLowerCase(),u=t[0].coords||t.attr("coords"),a=u.split(","),f=[],l=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),m=l.offset(),g={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},y=0,b=0,w;m.left+=Math.ceil((l.outerWidth()-l.width())/2);m.top+=Math.ceil((l.outerHeight()-l.height())/2);if(o==="poly"){y=a.length;while(y--){b=[parseInt(a[--y],10),parseInt(a[y+1],10)];b[0]>g.position.right&&(g.position.right=b[0]);b[0]<g.position.left&&(g.position.left=b[0]);b[1]>g.position.bottom&&(g.position.bottom=b[1]);b[1]<g.position.top&&(g.position.top=b[1]);f.push(b)}}else{y=-1;while(y++<a.length)f.push(parseInt(a[y],10))}switch(o){case"rect":g={width:Math.abs(f[2]-f[0]),height:Math.abs(f[3]-f[1]),position:{left:Math.min(f[0],f[2]),top:Math.min(f[1],f[3])}};break;case"circle":g={width:f[2]+2,height:f[2]+2,position:{left:f[0],top:f[1]}};break;case"poly":g.width=Math.abs(g.position.right-g.position.left);g.height=Math.abs(g.position.bottom-g.position.top);if(n.abbrev()==="c")g.position={left:g.position.left+g.width/2,top:g.position.top+g.height/2};else{if(!s[n+u]){g.position=E(g,f.slice(),n);if(i&&(i[0]==="flip"||i[1]==="flip")){g.offset=E(g,f.slice(),{x:n.x===h?d:n.x===d?h:v,y:n.y===c?p:n.y===p?c:v});g.offset.left-=g.position.left;g.offset.top-=g.position.top}s[n+u]=g}g=s[n+u]}g.width=g.height=0}g.position.left+=m.left;g.position.top+=m.top;return g};w.bgiframe=function(e){var t=r.browser,n=e.plugins.bgiframe;return r("select, object").length<1||!t.msie||(""+t.version).charAt(0)!=="6"?s:"object"==typeof n?n:e.plugins.bgiframe=new R(e)};w.bgiframe.initialize="render"})})(window,document);jQuery.fn.extend({everyTime:function(e,t,n,r){return this.each(function(){jQuery.timer.add(this,e,t,n,r)})},oneTime:function(e,t,n){return this.each(function(){jQuery.timer.add(this,e,t,n,1)})},stopTime:function(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}});jQuery.extend({timer:{global:[],guid:1,dataKey:"jQuery.timer",regex:/^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e==undefined||e==null)return null;var t=this.regex.exec(jQuery.trim(e.toString()));if(t[2]){var n=parseFloat(t[1]),r=this.powers[t[2]]||1;return n*r}return e},add:function(e,t,n,r,i){var s=0;if(jQuery.isFunction(n)){i||(i=r);r=n;n=t}t=jQuery.timer.timeParse(t);if(typeof t!="number"||isNaN(t)||t<0)return;if(typeof i!="number"||isNaN(i)||i<0)i=0;i=i||0;var o=jQuery.data(e,this.dataKey)||jQuery.data(e,this.dataKey,{});o[n]||(o[n]={});r.timerID=r.timerID||this.guid++;var u=function(){(++s>i&&i!==0||r.call(e,s)===!1)&&jQuery.timer.remove(e,n,r)};u.timerID=r.timerID;o[n][r.timerID]||(o[n][r.timerID]=window.setInterval(u,t));this.global.push(e)},remove:function(e,t,n){var r=jQuery.data(e,this.dataKey),i;if(r){if(!t)for(t in r)this.remove(e,t,n);else if(r[t]){if(n){if(n.timerID){window.clearInterval(r[t][n.timerID]);delete r[t][n.timerID]}}else for(var n in r[t]){window.clearInterval(r[t][n]);delete r[t][n]}for(i in r[t])break;if(!i){i=null;delete r[t]}}for(i in r)break;i||jQuery.removeData(e,this.dataKey)}}}});jQuery(window).bind("unload",function(){jQuery.each(jQuery.timer.global,function(e,t){jQuery.timer.remove(t)})});jQuery.url=function(){var e={},t={},n={url:window.location,strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=function(){str=decodeURI(n.url);var e=n.parser[n.strictMode?"strict":"loose"].exec(str),t={},r=14;while(r--)t[n.key[r]]=e[r]||"";t[n.q.name]={};t[n.key[12]].replace(n.q.parser,function(e,r,i){r&&(t[n.q.name][r]=i)});return t},i=function(e){jQuery.isEmptyObject(t)&&o();return e=="base"?t.port!==null&&t.port!==""?t.protocol+"://"+t.host+":"+t.port+"/":t.protocol+"://"+t.host+"/":t[e]===""?null:t[e]},s=function(e){jQuery.isEmptyObject(t)&&o();return t.queryKey[e]===null?null:t.queryKey[e]},o=function(){t=r();u()},u=function(){var n=t.path;e=[];e=t.path.length==1?{}:(n.charAt(n.length-1)=="/"?n.substring(1,n.length-1):path=n.substring(1)).split("/")};return{setMode:function(e){n.strictMode=e=="strict"?!0:!1;return this},setUrl:function(e){n.url=e===undefined?window.location:e;o();return this},segment:function(n){jQuery.isEmptyObject(t)&&o();return n===undefined?e.length:e[n]===""||e[n]===undefined?null:e[n]},attr:i,param:s}}();(function(e){e.validator=function(t){function u(e){return e!==""?!0:!1}function a(e){return e>0?!0:!1}function f(t,n){var r=n.replace("_confirm",""),i=e(r).val(),s=!1;t===i&&t!==""?s=!0:s=!1;return s}function l(e){var t=new RegExp(/^(("[\w-\s]+")|([\w- ]+(?:\.[\w- ]+)*)|("[\w-\s]+")([\w- ]+(?:\.[\w- ]+)*))(@((?:[\w- ]+\.)*\w[\w- ]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return t.test(e)}function c(e){var t=/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/;return t.test(e)}function h(e){return p(e)==="?"?!1:!0}function p(e){var t=(e+"").replace(/\s/g,"");return/^(34|37)/.test(t)&&t.length===15?"AMEX":/^(51|52|53|54|55)/.test(t)&&t.length===16?"MasterCard":!/^(4)/.test(t)||t.length!==13&&t.length!==16?/^(300|301|302|303|304|305|36|38)/.test(t)&&t.length===14?"DinersClub":/^(2014|2149)/.test(t)&&t.length===15?"enRoute":/^(6011)/.test(t)&&t.length===16?"Discover":/^(3)/.test(t)&&t.length===16?"JCB":/^(2131|1800)/.test(t)&&t.length===15?"JCB":"?":"Visa"}function d(t,n){var i=n.selector+"_error";if(t&&e(i).length!==0){e(n.selector+"_error").html("").removeClass(r.styles.error).addClass(r.styles.valid);e(n.selector+"_error").delay(300,function(){e(this).fadeOut()})}else if(e(i).length!==0){e(i).html(r.message+" "+n.field).removeClass(r.styles.valid).addClass(r.styles.error);e(n.selector+"_error").delay(150,function(){e(this).fadeIn()})}}function v(t,n){!t&&e(n.selector).length!==0&&e(n.selector).css("border","1px solid red")}function m(t,n){if(!t&&e(n.selector).length!==0){e(n.selector).val(n.field).addClass(r.styles.error);e(n.selector).delay(1e3,function(){e(n.selector).val("").removeClass(r.styles.error)})}}function g(){return!1}var n={elements:[],styles:{valid:"form_valid",error:"form_error"},message:"",success:function(){},failed:function(){}},r=e.extend(n,t),i=0,s=r.elements.length,o="";e.each(r.elements,function(t,n){var r=e(n.selector).val(),s=!1;n.rule==="require"?s=u(r):n.rule==="require_integer"?s=a(r):n.rule==="email"?s=l(r):n.rule==="us_phone"?s=c(r):n.rule==="confirm"?s=f(r,n.selector):n.rule==="credit_card"?s=h(r):jQuery.isFunction(n.rule)?s=n.rule(n.selector):s=!1;n.action==="label"?d(s,n):n.action==="border"?v(s,n):n.action==="element"?m(s,n):g();s?i++:o+=" "+n.field+","});if(i===s)r.success();else{var y=o.substring(0,o.length-1);r.failed(y)}}})($);(function(e,t){function A(e){if(i==="")return e;e=e.charAt(0).toUpperCase()+e.substr(1);return i+e}var n=Math,r=t.createElement("div").style,i=function(){var e="t,webkitT,MozT,msT,OT".split(","),t,n=0,i=e.length;for(;n<i;n++){t=e[n]+"ransform";if(t in r)return e[n].substr(0,e[n].length-1)}return!1}(),s=i?"-"+i.toLowerCase()+"-":"",o=A("transform"),u=A("transitionProperty"),a=A("transitionDuration"),f=A("transformOrigin"),l=A("transitionTimingFunction"),c=A("transitionDelay"),h=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),v=A("perspective")in r,m="ontouchstart"in e&&!d,g=i!==!1,y=A("transition")in r,b="onorientationchange"in e?"orientationchange":"resize",w=m?"touchstart":"mousedown",E=m?"touchmove":"mousemove",S=m?"touchend":"mouseup",x=m?"touchcancel":"mouseup",T=function(){if(i===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[i]}(),N=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),C=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),k=v?" translateZ(0)":"",L=function(n,r){var i=this,c;i.wrapper=typeof n=="object"?n:t.getElementById(n);i.wrapper.style.overflow="hidden";i.scroller=i.wrapper.children[0];i.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:p,fadeScrollbar:p&&v,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in r)i.options[c]=r[c];i.x=i.options.x;i.y=i.options.y;i.options.useTransform=g&&i.options.useTransform;i.options.hScrollbar=i.options.hScroll&&i.options.hScrollbar;i.options.vScrollbar=i.options.vScroll&&i.options.vScrollbar;i.options.zoom=i.options.useTransform&&i.options.zoom;i.options.useTransition=y&&i.options.useTransition;i.options.zoom&&h&&(k="");i.scroller.style[u]=i.options.useTransform?s+"transform":"top left";i.scroller.style[a]="0";i.scroller.style[f]="0 0";i.options.useTransition&&(i.scroller.style[l]="cubic-bezier(0.33,0.66,0.66,1)");i.options.useTransform?i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px)"+k:i.scroller.style.cssText+=";position:absolute;top:"+i.y+"px;left:"+i.x+"px";i.options.useTransition&&(i.options.fixedScrollbar=!0);i.refresh();i._bind(b,e);i._bind(w);if(!m&&i.options.wheelAction!="none"){i._bind("DOMMouseScroll");i._bind("mousewheel")}i.options.checkDOMChanges&&(i.checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))};L.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case w:if(!m&&e.button!==0)return;t._start(e);break;case E:t._move(e);break;case S:case x:t._end(e);break;case b:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case T:t._transitionEnd(e)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(e){var r=this,i;if(!r[e+"Scrollbar"]){if(r[e+"ScrollbarWrapper"]){g&&(r[e+"ScrollbarIndicator"].style[o]="");r[e+"ScrollbarWrapper"].parentNode.removeChild(r[e+"ScrollbarWrapper"]);r[e+"ScrollbarWrapper"]=null;r[e+"ScrollbarIndicator"]=null}return}if(!r[e+"ScrollbarWrapper"]){i=t.createElement("div");r.options.scrollbarClass?i.className=r.options.scrollbarClass+e.toUpperCase():i.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px");i.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1");r.wrapper.appendChild(i);r[e+"ScrollbarWrapper"]=i;i=t.createElement("div");r.options.scrollbarClass||(i.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px");i.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+k;r.options.useTransition&&(i.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");r[e+"ScrollbarWrapper"].appendChild(i);r[e+"ScrollbarIndicator"]=i}if(e=="h"){r.hScrollbarSize=r.hScrollbarWrapper.clientWidth;r.hScrollbarIndicatorSize=n.max(n.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8);r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px";r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize;r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX}else{r.vScrollbarSize=r.vScrollbarWrapper.clientHeight;r.vScrollbarIndicatorSize=n.max(n.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8);r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px";r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize;r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY}r._scrollbarPos(e,!0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},h?200:0)},_pos:function(e,t){if(this.zoomed)return;e=this.hScroll?e:0;t=this.vScroll?t:0;if(this.options.useTransform)this.scroller.style[o]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+k;else{e=n.round(e);t=n.round(t);this.scroller.style.left=e+"px";this.scroller.style.top=t+"px"}this.x=e;this.y=t;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(e,t){var r=this,i=e=="h"?r.x:r.y,s;if(!r[e+"Scrollbar"])return;i=r[e+"ScrollbarProp"]*i;if(i<0){if(!r.options.fixedScrollbar){s=r[e+"ScrollbarIndicatorSize"]+n.round(i*3);s<8&&(s=8);r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px"}i=0}else if(i>r[e+"ScrollbarMaxScroll"])if(!r.options.fixedScrollbar){s=r[e+"ScrollbarIndicatorSize"]-n.round((i-r[e+"ScrollbarMaxScroll"])*3);s<8&&(s=8);r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px";i=r[e+"ScrollbarMaxScroll"]+(r[e+"ScrollbarIndicatorSize"]-s)}else i=r[e+"ScrollbarMaxScroll"];r[e+"ScrollbarWrapper"].style[c]="0";r[e+"ScrollbarWrapper"].style.opacity=t&&r.options.hideScrollbar?"0":"1";r[e+"ScrollbarIndicator"].style[o]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+k},_start:function(t){var r=this,i=m?t.touches[0]:t,s,u,a,f,l;if(!r.enabled)return;r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t);(r.options.useTransition||r.options.zoom)&&r._transitionTime
(0);r.moved=!1;r.animating=!1;r.zoomed=!1;r.distX=0;r.distY=0;r.absDistX=0;r.absDistY=0;r.dirX=0;r.dirY=0;if(r.options.zoom&&m&&t.touches.length>1){f=n.abs(t.touches[0].pageX-t.touches[1].pageX);l=n.abs(t.touches[0].pageY-t.touches[1].pageY);r.touchesDistStart=n.sqrt(f*f+l*l);r.originX=n.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x;r.originY=n.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y;r.options.onZoomStart&&r.options.onZoomStart.call(r,t)}if(r.options.momentum){if(r.options.useTransform){s=getComputedStyle(r.scroller,null)[o].replace(/[^0-9\-.,]/g,"").split(",");u=+(s[12]||s[4]);a=+(s[13]||s[5])}else{u=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,"");a=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")}if(u!=r.x||a!=r.y){r.options.useTransition?r._unbind(T):C(r.aniTime);r.steps=[];r._pos(u,a);r.options.onScrollEnd&&r.options.onScrollEnd.call(r)}}r.absStartX=r.x;r.absStartY=r.y;r.startX=r.x;r.startY=r.y;r.pointX=i.pageX;r.pointY=i.pageY;r.startTime=t.timeStamp||Date.now();r.options.onScrollStart&&r.options.onScrollStart.call(r,t);r._bind(E,e);r._bind(S,e);r._bind(x,e)},_move:function(e){var t=this,r=m?e.touches[0]:e,i=r.pageX-t.pointX,s=r.pageY-t.pointY,u=t.x+i,a=t.y+s,f,l,c,h=e.timeStamp||Date.now();t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,e);if(t.options.zoom&&m&&e.touches.length>1){f=n.abs(e.touches[0].pageX-e.touches[1].pageX);l=n.abs(e.touches[0].pageY-e.touches[1].pageY);t.touchesDist=n.sqrt(f*f+l*l);t.zoomed=!0;c=1/t.touchesDistStart*t.touchesDist*this.scale;c<t.options.zoomMin?c=.5*t.options.zoomMin*Math.pow(2,c/t.options.zoomMin):c>t.options.zoomMax&&(c=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/c));t.lastScale=c/this.scale;u=this.originX-this.originX*t.lastScale+this.x,a=this.originY-this.originY*t.lastScale+this.y;this.scroller.style[o]="translate("+u+"px,"+a+"px) scale("+c+")"+k;t.options.onZoom&&t.options.onZoom.call(t,e);return}t.pointX=r.pageX;t.pointY=r.pageY;if(u>0||u<t.maxScrollX)u=t.options.bounce?t.x+i/2:u>=0||t.maxScrollX>=0?0:t.maxScrollX;if(a>t.minScrollY||a<t.maxScrollY)a=t.options.bounce?t.y+s/2:a>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;t.distX+=i;t.distY+=s;t.absDistX=n.abs(t.distX);t.absDistY=n.abs(t.distY);if(t.absDistX<6&&t.absDistY<6)return;if(t.options.lockDirection)if(t.absDistX>t.absDistY+5){a=t.y;s=0}else if(t.absDistY>t.absDistX+5){u=t.x;i=0}t.moved=!0;t._pos(u,a);t.dirX=i>0?-1:i<0?1:0;t.dirY=s>0?-1:s<0?1:0;if(h-t.startTime>300){t.startTime=h;t.startX=t.x;t.startY=t.y}t.options.onScrollMove&&t.options.onScrollMove.call(t,e)},_end:function(r){if(m&&r.touches.length!==0)return;var i=this,s=m?r.changedTouches[0]:r,u,f,l={dist:0,time:0},c={dist:0,time:0},h=(r.timeStamp||Date.now())-i.startTime,p=i.x,d=i.y,v,g,y,b,w;i._unbind(E,e);i._unbind(S,e);i._unbind(x,e);i.options.onBeforeScrollEnd&&i.options.onBeforeScrollEnd.call(i,r);if(i.zoomed){w=i.scale*i.lastScale;w=Math.max(i.options.zoomMin,w);w=Math.min(i.options.zoomMax,w);i.lastScale=w/i.scale;i.scale=w;i.x=i.originX-i.originX*i.lastScale+i.x;i.y=i.originY-i.originY*i.lastScale+i.y;i.scroller.style[a]="200ms";i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+i.scale+")"+k;i.zoomed=!1;i.refresh();i.options.onZoomEnd&&i.options.onZoomEnd.call(i,r);return}if(!i.moved){if(m)if(i.doubleTapTimer&&i.options.zoom){clearTimeout(i.doubleTapTimer);i.doubleTapTimer=null;i.options.onZoomStart&&i.options.onZoomStart.call(i,r);i.zoom(i.pointX,i.pointY,i.scale==1?i.options.doubleTapZoom:1);i.options.onZoomEnd&&setTimeout(function(){i.options.onZoomEnd.call(i,r)},200)}else this.options.handleClick&&(i.doubleTapTimer=setTimeout(function(){i.doubleTapTimer=null;u=s.target;while(u.nodeType!=1)u=u.parentNode;if(u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"){f=t.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,r.view,1,s.screenX,s.screenY,s.clientX,s.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null);f._fake=!0;u.dispatchEvent(f)}},i.options.zoom?250:0));i._resetPos(400);i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(h<300&&i.options.momentum){l=p?i._momentum(p-i.startX,h,-i.x,i.scrollerW-i.wrapperW+i.x,i.options.bounce?i.wrapperW:0):l;c=d?i._momentum(d-i.startY,h,-i.y,i.maxScrollY<0?i.scrollerH-i.wrapperH+i.y-i.minScrollY:0,i.options.bounce?i.wrapperH:0):c;p=i.x+l.dist;d=i.y+c.dist;if(i.x>0&&p>0||i.x<i.maxScrollX&&p<i.maxScrollX)l={dist:0,time:0};if(i.y>i.minScrollY&&d>i.minScrollY||i.y<i.maxScrollY&&d<i.maxScrollY)c={dist:0,time:0}}if(l.dist||c.dist){y=n.max(n.max(l.time,c.time),10);if(i.options.snap){v=p-i.absStartX;g=d-i.absStartY;if(n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold)i.scrollTo(i.absStartX,i.absStartY,200);else{b=i._snap(p,d);p=b.x;d=b.y;y=n.max(b.time,y)}}i.scrollTo(n.round(p),n.round(d),y);i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(i.options.snap){v=p-i.absStartX;g=d-i.absStartY;if(n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold)i.scrollTo(i.absStartX,i.absStartY,200);else{b=i._snap(i.x,i.y);(b.x!=i.x||b.y!=i.y)&&i.scrollTo(b.x,b.y,b.time)}i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}i._resetPos(200);i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){if(t.moved){t.moved=!1;t.options.onScrollEnd&&t.options.onScrollEnd.call(t)}if(t.hScrollbar&&t.options.hideScrollbar){i=="webkit"&&(t.hScrollbarWrapper.style[c]="300ms");t.hScrollbarWrapper.style.opacity="0"}if(t.vScrollbar&&t.options.hideScrollbar){i=="webkit"&&(t.vScrollbarWrapper.style[c]="300ms");t.vScrollbarWrapper.style.opacity="0"}return}t.scrollTo(n,r,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;if("wheelDeltaX"in e){n=e.wheelDeltaX/12;r=e.wheelDeltaY/12}else if("wheelDelta"in e)n=r=e.wheelDelta/12;else{if(!("detail"in e))return;n=r=-e.detail*3}if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0));o<t.options.zoomMin&&(o=t.options.zoomMin);o>t.options.zoomMax&&(o=t.options.zoomMax);if(o!=t.scale){!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,e);t.wheelZoomCount++;t.zoom(e.pageX,e.pageY,o,400);setTimeout(function(){t.wheelZoomCount--;!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,e)},400)}return}i=t.x+n;s=t.y+r;i>0?i=0:i<t.maxScrollX&&(i=t.maxScrollX);s>t.minScrollY?s=t.minScrollY:s<t.maxScrollY&&(s=t.maxScrollY);t.maxScrollY<0&&t.scrollTo(i,s,0)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind(T);t._startAni()},_startAni:function(){var e=this,t=e.x,r=e.y,i=Date.now(),s,o,u;if(e.animating)return;if(!e.steps.length){e._resetPos(400);return}s=e.steps.shift();s.x==t&&s.y==r&&(s.time=0);e.animating=!0;e.moved=!0;if(e.options.useTransition){e._transitionTime(s.time);e._pos(s.x,s.y);e.animating=!1;s.time?e._bind(T):e._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){e._pos(s.x,s.y);e.animating=!1;e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e);e._startAni();return}a=(a-i)/s.time-1;o=n.sqrt(1-a*a);f=(s.x-t)*o+t;l=(s.y-r)*o+r;e._pos(f,l);e.animating&&(e.aniTime=N(u))};u()},_transitionTime:function(e){e+="ms";this.scroller.style[a]=e;this.hScrollbar&&(this.hScrollbarIndicator.style[a]=e);this.vScrollbar&&(this.vScrollbarIndicator.style[a]=e)},_momentum:function(e,t,r,i,s){var o=6e-4,u=n.abs(e)/t,a=u*u/(2*o),f=0,l=0;if(e>0&&a>r){l=s/(6/(a/u*o));r+=l;u=u*r/a;a=r}else if(e<0&&a>i){l=s/(6/(a/u*o));i+=l;u=u*i/a;a=i}a*=e<0?-1:1;f=u/o;return{dist:a,time:n.round(f)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent){t-=e.offsetLeft;n-=e.offsetTop}if(e!=this.wrapper){t*=this.scale;n*=this.scale}return{left:t,top:n}},_snap:function(e,t){var r=this,i,s,o,u,a,f;o=r.pagesX.length-1;for(i=0,s=r.pagesX.length;i<s;i++)if(e>=r.pagesX[i]){o=i;break}o==r.currPageX&&o>0&&r.dirX<0&&o--;e=r.pagesX[o];a=n.abs(e-r.pagesX[r.currPageX]);a=a?n.abs(r.x-e)/a*500:0;r.currPageX=o;o=r.pagesY.length-1;for(i=0;i<o;i++)if(t>=r.pagesY[i]){o=i;break}o==r.currPageY&&o>0&&r.dirY<0&&o--;t=r.pagesY[o];f=n.abs(t-r.pagesY[r.currPageY]);f=f?n.abs(r.y-t)/f*500:0;r.currPageY=o;u=n.round(n.max(a,f))||200;return{x:e,y:t,time:u}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var t=this;t.scroller.style[o]="";t.hScrollbar=!1;t.vScrollbar=!1;t._scrollbar("h");t._scrollbar("v");t._unbind(b,e);t._unbind(w);t._unbind(E,e);t._unbind(S,e);t._unbind(x,e);if(!t.options.hasTouch){t._unbind("DOMMouseScroll");t._unbind("mousewheel")}t.options.useTransition&&t._unbind(T);t.options.checkDOMChanges&&clearInterval(t.checkDOMTime);t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e=this,t,r,i,s,o=0,u=0;e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin);e.wrapperW=e.wrapper.clientWidth||1;e.wrapperH=e.wrapper.clientHeight||1;e.minScrollY=-e.options.topOffset||0;e.scrollerW=n.round(e.scroller.offsetWidth*e.scale);e.scrollerH=n.round((e.scroller.offsetHeight+e.minScrollY)*e.scale);e.maxScrollX=e.wrapperW-e.scrollerW;e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY;e.dirX=0;e.dirY=0;e.options.onRefresh&&e.options.onRefresh.call(e);e.hScroll=e.options.hScroll&&e.maxScrollX<0;e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH);e.hScrollbar=e.hScroll&&e.options.hScrollbar;e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH;t=e._offset(e.wrapper);e.wrapperOffsetLeft=-t.left;e.wrapperOffsetTop=-t.top;if(typeof e.options.snap=="string"){e.pagesX=[];e.pagesY=[];s=e.scroller.querySelectorAll(e.options.snap);for(r=0,i=s.length;r<i;r++){o=e._offset(s[r]);o.left+=e.wrapperOffsetLeft;o.top+=e.wrapperOffsetTop;e.pagesX[r]=o.left<e.maxScrollX?e.maxScrollX:o.left*e.scale;e.pagesY[r]=o.top<e.maxScrollY?e.maxScrollY:o.top*e.scale}}else if(e.options.snap){e.pagesX=[];while(o>=e.maxScrollX){e.pagesX[u]=o;o-=e.wrapperW;u++}e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]);o=0;u=0;e.pagesY=[];while(o>=e.maxScrollY){e.pagesY[u]=o;o-=e.wrapperH;u++}e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h");e._scrollbar("v");if(!e.zoomed){e.scroller.style[a]="0";e._resetPos(400)}},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop();s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++){if(s[o].relative){s[o].x=i.x-s[o].x;s[o].y=i.y-s[o].y}i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0})}i._startAni()},scrollToElement:function(e,t){var r=this,i;e=e.nodeType?e:r.scroller.querySelector(e);if(!e)return;i=r._offset(e);i.left+=r.wrapperOffsetLeft;i.top+=r.wrapperOffsetTop;i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left;i.top=i.top>r.minScrollY?r.minScrollY:i.top<r.maxScrollY?r.maxScrollY:i.top;t=t===undefined?n.max(n.abs(i.left)*2,n.abs(i.top)*2):t;r.scrollTo(i.left,i.top,t)},scrollToPage:function(e,t,n){var r=this,i,s;n=n===undefined?400:n;r.options.onScrollStart&&r.options.onScrollStart.call(r);if(r.options.snap){e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e;t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t;e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e;t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t;r.currPageX=e;r.currPageY=t;i=r.pagesX[e];s=r.pagesY[t]}else{i=-r.wrapperW*e;s=-r.wrapperH*t;i<r.maxScrollX&&(i=r.maxScrollX);s<r.maxScrollY&&(s=r.maxScrollY)}r.scrollTo(i,s,n)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(E,e);this._unbind(S,e);this._unbind(x,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(T):C(this.aniTime);this.steps=[];this.moved=!1;this.animating=!1},zoom:function(e,t,n,r){var i=this,s=n/i.scale;if(!i.options.useTransform)return;i.zoomed=!0;r=r===undefined?200:r;e=e-i.wrapperOffsetLeft-i.x;t=t-i.wrapperOffsetTop-i.y;i.x=e-e*s+i.x;i.y=t-t*s+i.y;i.scale=n;i.refresh();i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x;i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y;i.scroller.style[a]=r+"ms";i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+k;i.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};r=null;typeof exports!="undefined"?exports.iScroll=L:e.iScroll=L})(window,document);var mysqlDateParser=function(e){e?_str=e:_str="0000-00-00 00:00:00";var t={date:function(e){e=e||"number";m=_str.match(/([0-9])+/gi);e=="short"?months={"00":"00","01":"Jan.","02":"Feb.","03":"Mar.","04":"Apr.","05":"May.","06":"Jun.","07":"Jul.","08":"Aug.","09":"Sep.",10:"Oct.",11:"Nov.",12:"Dec."}:e=="long"&&(months={"00":"00","01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"});if(e!=="number"){m[1]=months[m[1]];d=" "}else d="/";return m[1]+d+m[2]+d+m[0]},time:function(){m=_str.match(/([0-9])+/gi);pmOrAm="AM";if(m[3]>12){m[3]=m[3]-12;pmOrAm="PM"}return m[3]+":"+m[4]+" "+pmOrAm}};return t};